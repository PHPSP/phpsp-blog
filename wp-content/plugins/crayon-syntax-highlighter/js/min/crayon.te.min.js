var jQueryCrayon=jQuery;(function(a){a(document).ready(function(){CrayonUtil.init()});CrayonUtil=new function(){var c=this;var b=null;c.init=function(){b=CrayonSyntaxSettings;c.initGET()};c.addPrefixToID=function(d){return d.replace(/^([#.])?(.*)$/,"$1"+b.prefix+"$2")};c.removePrefixFromID=function(e){var d=new RegExp("^[#.]?"+b.prefix,"i");return e.replace(d,"")};c.cssElem=function(d){return a(c.addPrefixToID(d))};c.setDefault=function(e,f){return(typeof e=="undefined")?f:e};c.setMax=function(e,d){return e<=d?e:d};c.setMin=function(d,e){return d>=e?d:e};c.setRange=function(e,f,d){return c.setMax(c.setMin(e,f),d)};c.initFancybox=function(){if(fancyboxInit){fancyboxInit(window,document,a,"crayonFancybox")}};c.getExt=function(e){if(e.indexOf(".")==-1){return undefined}var d=e.split(".");if(d.length){d=d[d.length-1]}else{d=""}return d};c.initGET=function(){window.currentURL=window.location.protocol+"//"+window.location.host+window.location.pathname;window.currentDir=window.currentURL.substring(0,window.currentURL.lastIndexOf("/"));function d(e){e=e.split("+").join(" ");var h={},g,f=/[?&]?([^=]+)=([^&]*)/g;while(g=f.exec(e)){h[decodeURIComponent(g[1])]=decodeURIComponent(g[2])}return h}window.GET=d(document.location.search)};c.getAJAX=function(d,e){d.version=b.version;a.get(b.ajaxurl,d,e)};c.postAJAX=function(d,e){d.version=b.version;a.post(b.ajaxurl,d,e)};c.reload=function(){var d="?";for(var e in window.GET){d+=e+"="+window.GET[e]+"&"}window.location=window.currentURL+d};c.escape=function(d){if(typeof encodeURIComponent=="function"){return encodeURIComponent(d)}else{if(typeof escape!="function"){return escape(d)}else{return d}}};c.log=function(d){if(typeof console!="undefined"&&b.debug){console.log(d)}};c.decode_html=function(d){return String(d).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")};c.encode_html=function(d){return String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};c.getReadableColor=function(g,f){f=a.extend({amount:0.5,xMulti:1,yMulti:1.5,normalizeHue:[20,180],normalizeHueXMulti:1/2.5,normalizeHueYMulti:1},f);var d=tinycolor(g);var e=d.toHsv();var j={x:e.s,y:1-e.v};j.x*=f.xMulti;j.y*=f.yMulti;if(f.normalizeHue&&e.h>f.normalizeHue[0]&&e.h<f.normalizeHue[1]){j.x*=f.normalizeHueXMulti;j.y*=f.normalizeHueYMulti}var h=Math.sqrt(Math.pow(j.x,2)+Math.pow(j.y,2));if(h<f.amount){e.v=0}else{e.v=1}e.s=0;return tinycolor(e).toHexString()};c.removeChars=function(e,f){var d=new RegExp("["+e+"]","gmi");return f.replace(d,"")}};a.fn.bindFirst=function(c,e){this.bind(c,e);var b=this.data("events")[c.split(".")[0]];var d=b.pop();b.splice(0,0,d)};a.keys=function(d){var c=[];for(var b in d){c.push(b)}return c};RegExp.prototype.execAll=function(c){var f=[];var b=null;while((b=this.exec(c))!=null){var e=[];for(var d in b){if(parseInt(d)==d){e.push(b[d])}}f.push(e)}return f};RegExp.prototype.escape=function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};String.prototype.sliceReplace=function(d,b,c){return this.substring(0,d)+c+this.substring(b)};String.prototype.escape=function(){var b={"&":"&amp;","<":"&lt;",">":"&gt;"};return this.replace(/[&<>]/g,function(c){return b[c]||c})};String.prototype.linkify=function(b){b=typeof b!="undefined"?b:"";return this.replace(/(http(s)?:\/\/(\S)+)/gmi,'<a href="$1" target="'+b+'">$1</a>')};String.prototype.toTitleCase=function(){var b=this.split(/\s+/);var c="";a.each(b,function(e,d){if(d!=""){c+=d.slice(0,1).toUpperCase()+d.slice(1,d.length);if(e!=b.length-1&&b[e+1]!=""){c+=" "}}});return c}})(jQueryCrayon);jqueryPopup=Object();jqueryPopup.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0,data:null,event:"click"};(function(a){popupWindow=function(d,c,f,b){f=typeof f!=="undefined"?f:null;b=typeof b!=="undefined"?b:null;if(typeof d=="string"){d=jQuery(d)}if(!(d instanceof jQuery)){return false}var e=jQuery.extend({},jqueryPopup.defaultSettings,c||{});d.handler=jQuery(d).bind(e.event,function(){if(f){f()}var g="height="+e.height+",width="+e.width+",toolbar="+e.toolbar+",scrollbars="+e.scrollbars+",status="+e.status+",resizable="+e.resizable+",location="+e.location+",menuBar="+e.menubar;e.windowName=e.windowName||jQuery(this).attr("name");var h=jQuery(this).attr("href");if(!e.windowURL&&!(h=="#")&&!(h=="")){e.windowURL=jQuery(this).attr("href")}var j,k;var l=null;if(e.centerBrowser){if(jQuery.browser.msie){j=(window.screenTop-120)+((((document.documentElement.clientHeight+120)/2)-(e.height/2)));k=window.screenLeft+((((document.body.offsetWidth+20)/2)-(e.width/2)))}else{j=window.screenY+(((window.outerHeight/2)-(e.height/2)));k=window.screenX+(((window.outerWidth/2)-(e.width/2)))}l=window.open(e.windowURL,e.windowName,g+",left="+k+",top="+j)}else{if(e.centerScreen){j=(screen.height-e.height)/2;k=(screen.width-e.width)/2;l=window.open(e.windowURL,e.windowName,g+",left="+k+",top="+j)}else{l=window.open(e.windowURL,e.windowName,g+",left="+e.left+",top="+e.top)}}if(l!=null){l.focus();if(e.data){l.document.write(e.data)}}if(b){b()}});return e};popdownWindow=function(b,c){if(typeof c=="undefined"){c="click"}b=jQuery(b);if(!(b instanceof jQuery)){return false}b.unbind(c,b.handler)}})(jQueryCrayon);(function(f){f.fn.exists=function(){return this.length!==0};f.fn.style=function(C,F,B){var E=this.get(0);if(typeof E=="undefined"){return}var D=E.style;if(typeof C!="undefined"){if(typeof F!="undefined"){B=typeof B!="undefined"?B:"";if(typeof D.setProperty!="undefined"){D.setProperty(C,F,B)}else{D[C]=F}}else{return D[C]}}else{return D}};var d="crayon-pressed";var a="";var o="div.crayon-syntax";var e=".crayon-toolbar";var c=".crayon-info";var x=".crayon-plain";var p=".crayon-main";var n=".crayon-table";var w=".crayon-loading";var h=".crayon-code";var q=".crayon-title";var m=".crayon-tools";var b=".crayon-nums";var k=".crayon-num";var r=".crayon-line";var g="crayon-wrapped";var t=".crayon-nums-content";var v=".crayon-nums-button";var l=".crayon-wrap-button";var j=".crayon-expand-button";var u="crayon-expanded crayon-toolbar-visible";var z="crayon-placeholder";var y=".crayon-popup-button";var s=".crayon-copy-button";var A=".crayon-plain-button";f(document).ready(function(){CrayonSyntax.init()});CrayonSyntax=new function(){var J=this;var O=new Object();var ah;var I;var H=0;var aa;J.init=function(){if(typeof O=="undefined"){O=new Object()}ah=CrayonSyntaxSettings;I=CrayonSyntaxStrings;f(o).each(function(){J.process(this)})};J.process=function(aE,aF){aE=f(aE);var at=aE.attr("id");if(at=="crayon-"){at+=Y()}aE.attr("id",at);CrayonUtil.log(at);if(typeof aF=="undefined"){aF=false}if(!aF&&!ab(at)){return}var av=aE.find(e);var aD=aE.find(c);var aq=aE.find(x);var ar=aE.find(p);var aC=aE.find(n);var ak=aE.find(h);var aH=aE.find(q);var aB=aE.find(m);var az=aE.find(b);var aw=aE.find(t);var aA=aE.find(v);var an=aE.find(l);var ap=aE.find(j);var aG=aE.find(y);var au=aE.find(s);var am=aE.find(A);O[at]=aE;O[at].toolbar=av;O[at].plain=aq;O[at].info=aD;O[at].main=ar;O[at].table=aC;O[at].code=ak;O[at].title=aH;O[at].tools=aB;O[at].nums=az;O[at].nums_content=aw;O[at].numsButton=aA;O[at].wrapButton=an;O[at].expandButton=ap;O[at].popup_button=aG;O[at].copy_button=au;O[at].plainButton=am;O[at].numsVisible=true;O[at].wrapped=false;O[at].plainVisible=false;O[at].toolbar_delay=0;O[at].time=1;f(x).css("z-index",0);var ax=ar.style();O[at].mainStyle={height:ax&&ax.height||"","max-height":ax&&ax.maxHeight||"","min-height":ax&&ax.minHeight||"",width:ax&&ax.width||"","max-width":ax&&ax.maxWidth||"","min-width":ax&&ax.minWidth||""};O[at].mainHeightAuto=O[at].mainStyle.height==""&&O[at].mainStyle["max-height"]=="";var al;var ay=0;O[at].loading=true;O[at].scrollBlockFix=false;aA.click(function(){CrayonSyntax.toggleNums(at)});an.click(function(){CrayonSyntax.toggleWrap(at)});ap.click(function(){CrayonSyntax.toggleExpand(at)});am.click(function(){CrayonSyntax.togglePlain(at)});au.click(function(){CrayonSyntax.copyPlain(at)});C(at);var ao=function(){if(az.filter('[data-settings~="hide"]').length!=0){aw.ready(function(){CrayonUtil.log("function"+at);CrayonSyntax.toggleNums(at,true,true)})}else{ad(at)}if(typeof O[at].expanded=="undefined"){if(Math.abs(O[at].main.outerWidth()-O[at].table.outerWidth())<10){O[at].expandButton.hide()}else{O[at].expandButton.show()}}if(ay==5){clearInterval(al);O[at].loading=false}ay++};al=setInterval(ao,300);D(at);f(k,O[at]).each(function(){var aK=f(this).attr("data-line");var aJ=f("#"+aK);var aI=aJ.style("height");if(aI){aJ.attr("data-height",aI)}});ar.css("position","relative");ar.css("z-index",1);aa=(aE.filter('[data-settings~="touchscreen"]').length!=0);if(!aa){ar.click(function(){B(at,"",false)});aq.click(function(){B(at,"",false)});aD.click(function(){B(at,"",false)})}if(aE.filter('[data-settings~="no-popup"]').length==0){O[at].popup_settings=popupWindow(aG,{height:screen.height-200,width:screen.width-100,top:75,left:50,scrollbars:1,windowURL:"",data:""},function(){G(at)},function(){})}aq.css("opacity",0);O[at].toolbarVisible=true;O[at].hasOneLine=aC.outerHeight()<av.outerHeight()*2;O[at].toolbarMouseover=false;if(av.filter('[data-settings~="mouseover"]').length!=0&&!aa){O[at].toolbarMouseover=true;O[at].toolbarVisible=false;av.css("margin-top","-"+av.outerHeight()+"px");av.hide();if(av.filter('[data-settings~="overlay"]').length!=0&&!O[at].hasOneLine){av.css("position","absolute");av.css("z-index",2);if(av.filter('[data-settings~="hide"]').length!=0){ar.click(function(){U(at,undefined,undefined,0)});aq.click(function(){U(at,false,undefined,0)})}}else{av.css("z-index",4)}if(av.filter('[data-settings~="delay"]').length!=0){O[at].toolbar_delay=500}aE.mouseenter(function(){U(at,true)}).mouseleave(function(){U(at,false)})}else{if(aa){av.show()}}if(aE.filter('[data-settings~="minimize"]').length==0){J.minimize(at)}if(aq.length!=0&&!aa){if(aq.filter('[data-settings~="dblclick"]').length!=0){ar.dblclick(function(){CrayonSyntax.togglePlain(at)})}else{if(aq.filter('[data-settings~="click"]').length!=0){ar.click(function(){CrayonSyntax.togglePlain(at)})}else{if(aq.filter('[data-settings~="mouseover"]').length!=0){aE.mouseenter(function(){CrayonSyntax.togglePlain(at,true)}).mouseleave(function(){CrayonSyntax.togglePlain(at,false)});aA.hide()}}}if(aq.filter('[data-settings~="show-plain-default"]').length!=0){CrayonSyntax.togglePlain(at,true)}}var aj=aE.filter('[data-settings~="expand"]').length!=0;if(!aa&&aE.filter('[data-settings~="scroll-mouseover"]').length!=0){ar.css("overflow","hidden");aq.css("overflow","hidden");aE.mouseenter(function(){N(at,true,aj)}).mouseleave(function(){N(at,false,aj)})}if(aj){aE.mouseenter(function(){E(at,true)}).mouseleave(function(){E(at,false)})}if(aE.filter('[data-settings~="disable-anim"]').length!=0){O[at].time=0}if(aE.filter('[data-settings~="wrap"]').length!=0){O[at].wrapped=true}O[at].mac=aE.hasClass("crayon-os-mac");ad(at);ac(at);Z(at)};var ab=function(aj){CrayonUtil.log(O);if(typeof O[aj]=="undefined"){O[aj]=f("#"+aj);CrayonUtil.log("make "+aj);return true}CrayonUtil.log("no make "+aj);return false};var Y=function(){return H++};var G=function(aj){if(typeof O[aj]=="undefined"){return ab(aj)}var ak=O[aj].popup_settings;if(ak.data){return}var am=O[aj].clone(true);am.removeClass("crayon-wrapped");if(O[aj].wrapped){f(k,am).each(function(){var ap=f(this).attr("data-line");var ao=f("#"+ap);var an=ao.attr("data-height");an=an?an:"";if(typeof an!="undefined"){ao.css("height",an);f(this).css("height",an)}})}am.find(p).css("height","");var al="";if(O[aj].plainVisible){al=am.find(x)}else{al=am.find(p)}ak.data=J.getAllCSS()+'<body class="crayon-popup-window" style="padding:0; margin:0;"><div class="'+am.attr("class")+' crayon-popup">'+J.removeCssInline(J.getHtmlString(al))+"</div></body>"};J.minimize=function(am){var al=f('<div class="crayon-minimize crayon-button"><div>');O[am].tools.append(al);O[am].origTitle=O[am].title.html();if(!O[am].origTitle){O[am].title.html(I.minimize)}var ak="crayon-minimized";var aj=function(){O[am].toolbarPreventHide=false;al.remove();O[am].removeClass(ak);O[am].title.html(O[am].origTitle);var an=O[am].toolbar;if(an.filter('[data-settings~="never-show"]').length!=0){an.remove()}};O[am].toolbar.click(aj);al.click(aj);O[am].addClass(ak);O[am].toolbarPreventHide=true;U(am,undefined,undefined,0)};J.getHtmlString=function(aj){return f("<div>").append(aj.clone()).remove().html()};J.removeCssInline=function(al){var ak=/style\s*=\s*"([^"]+)"/gmi;var aj=null;while((aj=ak.exec(al))!=null){var am=aj[1];am=am.replace(/\b(?:width|height)\s*:[^;]+;/gmi,"");al=al.sliceReplace(aj.index,aj.index+aj[0].length,'style="'+am+'"')}return al};J.getAllCSS=function(){var al="";var ak=f('link[rel="stylesheet"]');var aj=[];if(ak.length==1){aj=ak}else{aj=ak.filter('[href*="crayon-syntax-highlighter"], [href*="min/"]')}aj.each(function(){var am=J.getHtmlString(f(this));al+=am});return al};J.copyPlain=function(al,am){if(typeof O[al]=="undefined"){return ab(al)}var ak=O[al].plain;J.togglePlain(al,true,true);U(al,true);var aj=O[al].mac?"\u2318":"CTRL";var an=I.copy;an=an.replace(/%s/,aj+"+C");an=an.replace(/%s/,aj+"+V");B(al,an);return false};var B=function(ak,am,aj){if(typeof O[ak]=="undefined"){return ab(ak)}var al=O[ak].info;if(typeof am=="undefined"){am=""}if(typeof aj=="undefined"){aj=true}if(M(al)&&aj){al.html("<div>"+am+"</div>");al.css("margin-top",-al.outerHeight());al.show();R(ak,al,true);setTimeout(function(){R(ak,al,false)},5000)}if(!aj){R(ak,al,false)}};var C=function(aj){if(window.devicePixelRatio>1){var ak=f(".crayon-button-icon",O[aj].toolbar);ak.each(function(){var am=f(this).css("background-image");var al=am.replace(/\.(?=[^\.]+$)/g,"@2x.");f(this).css("background-size","48px 128px");f(this).css("background-image",al)})}};var M=function(aj){var ak="-"+aj.outerHeight()+"px";if(aj.css("margin-top")==ak||aj.css("display")=="none"){return true}else{return false}};var R=function(am,al,ak,ao,an,aq){var aj=function(){if(aq){aq(am,al)}};var ap="-"+al.outerHeight()+"px";if(typeof ak=="undefined"){if(M(al)){ak=true}else{ak=false}}if(typeof ao=="undefined"){ao=100}if(ao==false){ao=false}if(typeof an=="undefined"){an=0}al.stop(true);if(ak==true){al.show();al.animate({marginTop:0},ai(ao,am),aj)}else{if(ak==false){if(al.css("margin-top")=="0px"&&an){al.delay(an)}al.animate({marginTop:ap},ai(ao,am),function(){al.hide();aj()})}}};J.togglePlain=function(am,an,ak){if(typeof O[am]=="undefined"){return ab(am)}var aj=O[am].main;var al=O[am].plain;if((aj.is(":animated")||al.is(":animated"))&&typeof an=="undefined"){return}af(am);var ap,ao;if(typeof an!="undefined"){if(an){ap=aj;ao=al}else{ap=al;ao=aj}}else{if(aj.css("z-index")==1){ap=aj;ao=al}else{ap=al;ao=aj}}O[am].plainVisible=(ao==al);O[am].top=ap.scrollTop();O[am].left=ap.scrollLeft();O[am].scrollChanged=false;D(am);ap.stop(true);ap.fadeTo(ai(500,am),0,function(){ap.css("z-index",0)});ao.stop(true);ao.fadeTo(ai(500,am),1,function(){ao.css("z-index",1);if(ao==al){if(ak){al.select()}else{}}ao.scrollTop(O[am].top+1);ao.scrollTop(O[am].top);ao.scrollLeft(O[am].left+1);ao.scrollLeft(O[am].left)});ao.scrollTop(O[am].top);ao.scrollLeft(O[am].left);ac(am);U(am,false);return false};J.toggleNums=function(an,am,aj){if(typeof O[an]=="undefined"){ab(an);return false}if(O[an].table.is(":animated")){return false}var ap=Math.round(O[an].nums_content.outerWidth()+1);var ao="-"+ap+"px";var al;if(typeof am!="undefined"){al=false}else{al=(O[an].table.css("margin-left")==ao)}var ak;if(al){ak="0px";O[an].numsVisible=true}else{O[an].table.css("margin-left","0px");O[an].numsVisible=false;ak=ao}if(typeof aj!="undefined"){O[an].table.css("margin-left",ak);ad(an);return false}var aq=(O[an].table.outerWidth()+K(O[an].table.css("margin-left"))>O[an].main.outerWidth());var ar=(O[an].table.outerHeight()>O[an].main.outerHeight());if(!aq&&!ar){O[an].main.css("overflow","hidden")}O[an].table.animate({marginLeft:ak},ai(200,an),function(){if(typeof O[an]!="undefined"){ad(an);if(!aq&&!ar){O[an].main.css("overflow","auto")}}});return false};J.toggleWrap=function(aj){O[aj].wrapped=!O[aj].wrapped;Z(aj)};J.toggleExpand=function(aj){var ak=!CrayonUtil.setDefault(O[aj].expanded,false);E(aj,ak)};var Z=function(aj,ak){ak=CrayonUtil.setDefault(ak,true);if(O[aj].wrapped){O[aj].addClass(g)}else{O[aj].removeClass(g)}F(aj);if(!O[aj].expanded&&ak){W(aj)}O[aj].wrapTimes=0;clearInterval(O[aj].wrapTimer);O[aj].wrapTimer=setInterval(function(){if(O[aj].is(":visible")){P(aj);O[aj].wrapTimes++;if(O[aj].wrapTimes==5){clearInterval(O[aj].wrapTimer)}}},200)};var ae=function(aj){if(typeof O[aj]=="undefined"){ab(aj);return false}};var K=function(ak){if(typeof ak!="string"){return 0}var aj=ak.replace(/[^-0-9]/g,"");if(aj.length==0){return 0}else{return parseInt(aj)}};var ad=function(aj){if(typeof O[aj]=="undefined"||typeof O[aj].numsVisible=="undefined"){return}if(O[aj].numsVisible){O[aj].numsButton.removeClass(a);O[aj].numsButton.addClass(d)}else{O[aj].numsButton.removeClass(d);O[aj].numsButton.addClass(a)}};var F=function(aj){if(typeof O[aj]=="undefined"||typeof O[aj].wrapped=="undefined"){return}if(O[aj].wrapped){O[aj].wrapButton.removeClass(a);O[aj].wrapButton.addClass(d)}else{O[aj].wrapButton.removeClass(d);O[aj].wrapButton.addClass(a)}};var X=function(aj){if(typeof O[aj]=="undefined"||typeof O[aj].expanded=="undefined"){return}if(O[aj].expanded){O[aj].expandButton.removeClass(a);O[aj].expandButton.addClass(d)}else{O[aj].expandButton.removeClass(d);O[aj].expandButton.addClass(a)}};var ac=function(aj){if(typeof O[aj]=="undefined"||typeof O[aj].plainVisible=="undefined"){return}if(O[aj].plainVisible){O[aj].plainButton.removeClass(a);O[aj].plainButton.addClass(d)}else{O[aj].plainButton.removeClass(d);O[aj].plainButton.addClass(a)}};var U=function(ak,aj,am,al){if(typeof O[ak]=="undefined"){return ab(ak)}else{if(!O[ak].toolbarMouseover){return}else{if(aj==false&&O[ak].toolbarPreventHide){return}else{if(aa){return}}}}var an=O[ak].toolbar;if(typeof al=="undefined"){al=O[ak].toolbar_delay}R(ak,an,aj,am,al,function(){O[ak].toolbarVisible=aj})};var S=function(al,aj){var ak=f.extend({},al);ak.width+=aj.width;ak.height+=aj.height;return ak};var Q=function(al,aj){var ak=f.extend({},al);ak.width-=aj.width;ak.height-=aj.height;return ak};var V=function(aj){if(typeof O[aj].initialSize=="undefined"){O[aj].toolbarHeight=O[aj].toolbar.outerHeight();O[aj].innerSize={width:O[aj].width(),height:O[aj].height()};O[aj].outerSize={width:O[aj].outerWidth(),height:O[aj].outerHeight()};O[aj].borderSize=Q(O[aj].outerSize,O[aj].innerSize);O[aj].initialSize={width:O[aj].main.outerWidth(),height:O[aj].main.outerHeight()};O[aj].initialSize.height+=O[aj].toolbarHeight;O[aj].initialOuterSize=S(O[aj].initialSize,O[aj].borderSize);O[aj].finalSize={width:O[aj].table.outerWidth(),height:O[aj].table.outerHeight()};O[aj].finalSize.height+=O[aj].toolbarHeight;O[aj].finalSize.width=CrayonUtil.setMin(O[aj].finalSize.width,O[aj].initialSize.width);O[aj].finalSize.height=CrayonUtil.setMin(O[aj].finalSize.height,O[aj].initialSize.height);O[aj].diffSize=Q(O[aj].finalSize,O[aj].initialSize);O[aj].finalOuterSize=S(O[aj].finalSize,O[aj].borderSize);O[aj].initialSize.height+=O[aj].toolbar.outerHeight()}};var E=function(am,ap){if(typeof O[am]=="undefined"){return ab(am)}if(typeof ap=="undefined"){return}var ak=O[am].main;var ar=O[am].plain;if(ap){if(typeof O[am].expanded=="undefined"){V(am);O[am].expandTime=CrayonUtil.setRange(O[am].diffSize.width/3,300,800);O[am].expanded=false;var aq=O[am].finalOuterSize;O[am].placeholder=f("<div></div>");O[am].placeholder.addClass(z);O[am].placeholder.css(aq);O[am].before(O[am].placeholder);O[am].placeholder.css("margin",O[am].css("margin"));f(window).bind("resize",L)}var an={height:"auto","min-height":"none","max-height":"none"};var aj={width:"auto","min-width":"none","max-width":"none"};O[am].outerWidth(O[am].outerWidth());O[am].css({"min-width":"none","max-width":"none"});var ao={width:O[am].finalOuterSize.width};if(!O[am].mainHeightAuto&&!O[am].hasOneLine){ao.height=O[am].finalOuterSize.height;O[am].outerHeight(O[am].outerHeight())}ak.css(an);ak.css(aj);O[am].stop(true);O[am].animate(ao,ai(O[am].expandTime,am),function(){O[am].expanded=true;X(am)});O[am].placeholder.show();f("body").prepend(O[am]);O[am].addClass(u);L()}else{var at=O[am].initialOuterSize;var al=O[am].toolbar_delay;if(at){O[am].stop(true);if(!O[am].expanded){O[am].delay(al)}var ao={width:at.width};if(!O[am].mainHeightAuto&&!O[am].hasOneLine){ao.height=at.height}O[am].animate(ao,ai(O[am].expandTime,am),function(){ag(am)})}else{setTimeout(function(){ag(am)},al)}O[am].placeholder.hide();O[am].placeholder.before(O[am]);O[am].css({left:"auto",top:"auto"});O[am].removeClass(u)}af(am);if(ap){Z(am,false)}};var L=function(){for(uid in O){if(O[uid].hasClass(u)){O[uid].css(O[uid].placeholder.offset())}}};var ag=function(aj){O[aj].expanded=false;W(aj);X(aj);if(O[aj].wrapped){Z(aj)}};var N=function(am,ak,an){if(typeof O[am]=="undefined"){return ab(am)}if(typeof ak=="undefined"||an||O[am].expanded){return}var aj=O[am].main;var al=O[am].plain;if(ak){aj.css("overflow","auto");al.css("overflow","auto");if(typeof O[am].top!="undefined"){visible=(aj.css("z-index")==1?aj:al);visible.scrollTop(O[am].top-1);visible.scrollTop(O[am].top);visible.scrollLeft(O[am].left-1);visible.scrollLeft(O[am].left)}}else{visible=(aj.css("z-index")==1?aj:al);O[am].top=visible.scrollTop();O[am].left=visible.scrollLeft();aj.css("overflow","hidden");al.css("overflow","hidden")}O[am].scrollChanged=true;D(am)};var D=function(aj){O[aj].table.style("width","100%","important");var ak=setTimeout(function(){O[aj].table.style("width","");clearInterval(ak)},10)};var W=function(al){var ak=O[al].main;var aj=O[al].mainStyle;ak.css(aj);O[al].css("height","auto");O[al].css("width",aj.width);O[al].css("max-width",aj["max-width"]);O[al].css("min-width",aj["min-width"])};var af=function(aj){O[aj].plain.outerHeight(O[aj].main.outerHeight())};var P=function(aj){f(k,O[aj]).each(function(){var am=f(this).attr("data-line");var al=f("#"+am);var ak=null;if(O[aj].wrapped){al.css("height","");ak=al.outerHeight();ak=ak?ak:""}else{ak=al.attr("data-height");ak=ak?ak:"";al.css("height",ak)}f(this).css("height",ak)})};var ai=function(aj,ak){if(aj=="fast"){aj=200}else{if(aj=="slow"){aj=600}else{if(!T(aj)){aj=parseInt(aj);if(isNaN(aj)){return 0}}}}return aj*O[ak].time};var T=function(aj){return typeof aj=="number"}}})(jQueryCrayon);var CSSJSON=new function(){var c=this;c.init=function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.repeat=function(p){return new Array(1+p).join(this)}};c.init();var h=/([^\s\;\{\}][^\;\{\}]*)\{/g;var n=/\}/g;var d=/([^\;\{\}]*)\;/g;var l=/\/\*[\s\S]*?\*\//g;var g=/([^\:]+):([^\;]*);/;var o=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gmi;var j=1;var f=2;var b=3;var k=4;var e=function(p){return typeof p=="undefined"||p.length==0||p==null};c.toJSON=function(r,x){var s={children:{},attributes:{}};var u=null;var v=0;if(typeof x=="undefined"){var x={ordered:false,comments:false,stripComments:false,split:false}}if(x.stripComments){x.comments=false;r=r.replace(l,"")}while((u=o.exec(r))!=null){if(!e(u[j])&&x.comments){var C=u[j].trim();s[v++]=C}else{if(!e(u[f])){var p=u[f].trim();var A=c.toJSON(r,x);if(x.ordered){var t={};t.name=p;t.value=A;t.type="rule";s[v++]=t}else{if(x.split){var B=p.split(",")}else{var B=[p]}for(i in B){var q=B[i].trim();if(q in s.children){for(var y in A.attributes){s.children[q].attributes[y]=A.attributes[y]}}else{s.children[q]=A}}}}else{if(!e(u[b])){return s}else{if(!e(u[k])){var D=u[k].trim();var w=g.exec(D);if(w){var p=w[1].trim();var z=w[2].trim();if(x.ordered){var t={};t.name=p;t.value=z;t.type="attr";s[v++]=t}else{s.attributes[p]=z}}else{s[v++]=D}}}}}}return s};c.toCSS=function(r,t,q){var p="";if(typeof t=="undefined"){t=0}if(typeof q=="undefined"){q=false}if(r.attributes){for(i in r.attributes){p+=a(i,r.attributes[i],t)}}if(r.children){var s=true;for(i in r.children){if(q&&!s){p+="\n"}else{s=false}p+=m(i,r.children[i],t)}}return p};var a=function(p,q,r){return"\t".repeat(r)+p+": "+q+";\n"};var m=function(p,r,s){var q="\t".repeat(s)+p+" {\n";q+=c.toCSS(r,s+1);q+="\t".repeat(s)+"}\n";return q}};
/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.3 (Tue, 23 Oct 2012)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 * Modified by Aram Kocharyan:
 *     http://aramk.com/crayon/initialising-fancybox-with-custom-objects
 */
window.fancyboxInit=function(t,q,v,x){var A=v(t),D=v(q),p=v[x]=function(){p.open.apply(this,arguments)},B=null,z=q.createTouch!==undefined,u=function(a){return a&&a.hasOwnProperty&&a instanceof v},C=function(a){return a&&v.type(a)==="string"},s=function(a){return C(a)&&a.indexOf("%")>0},w=function(a){return(a&&!(a.style.overflow&&a.style.overflow==="hidden")&&((a.clientWidth&&a.scrollWidth>a.clientWidth)||(a.clientHeight&&a.scrollHeight>a.clientHeight)))},r=function(a,b){var c=parseInt(a,10)||0;if(b&&s(a)){c=p.getViewport()[b]/100*c}return Math.ceil(c)},y=function(b,a){return r(b,a)+"px"};v.extend(p,{version:"2.1.3",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,autoCenter:!z,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(v.browser.msie?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:v.noop,beforeLoad:v.noop,afterLoad:v.noop,beforeShow:v.noop,afterShow:v.noop,beforeChange:v.noop,beforeClose:v.noop,afterClose:v.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){if(!a){return}if(!v.isPlainObject(b)){b={}}if(false===p.close(true)){return}if(!v.isArray(a)){a=u(a)?v(a).get():[a]}v.each(a,function(j,h){var k={},c,e,g,f,l,d,m;if(v.type(h)==="object"){if(h.nodeType){h=v(h)}if(u(h)){k={href:h.data("fancybox-href")||h.attr("href"),title:h.data("fancybox-title")||h.attr("title"),isDom:true,element:h};if(v.metadata){v.extend(true,k,h.metadata())}}else{k=h}}c=b.href||k.href||(C(h)?h:null);e=b.title!==undefined?b.title:k.title||"";g=b.content||k.content;f=g?"html":(b.type||k.type);if(!f&&k.isDom){f=h.data("fancybox-type");if(!f){l=h.prop("class").match(/fancybox\.(\w+)/);f=l?l[1]:null}}if(C(c)){if(!f){if(p.isImage(c)){f="image"}else{if(p.isSWF(c)){f="swf"}else{if(c.charAt(0)==="#"){f="inline"}else{if(C(h)){f="html";g=h}}}}}if(f==="ajax"){d=c.split(/\s+/,2);c=d.shift();m=d.shift()}}if(!g){if(f==="inline"){if(c){g=v(C(c)?c.replace(/.*(?=#[^\s]+$)/,""):c)}else{if(k.isDom){g=h}}}else{if(f==="html"){g=c}else{if(!f&&!c&&k.isDom){f="inline";g=h}}}}v.extend(k,{href:c,type:f,content:g,title:e,selector:m});a[j]=k});p.opts=v.extend(true,{},p.defaults,b);if(b.keys!==undefined){p.opts.keys=b.keys?v.extend({},p.defaults.keys,b.keys):false}p.group=a;return p._start(p.opts.index)},cancel:function(){var a=p.coming;if(!a||false===p.trigger("onCancel")){return}p.hideLoading();if(p.ajaxLoad){p.ajaxLoad.abort()}p.ajaxLoad=null;if(p.imgPreload){p.imgPreload.onload=p.imgPreload.onerror=null}if(a.wrap){a.wrap.stop(true,true).trigger("onReset").remove()}p.coming=null;if(!p.current){p._afterZoomOut(a)}},close:function(a){p.cancel();if(false===p.trigger("beforeClose")){return}p.unbindEvents();if(!p.isActive){return}if(!p.isOpen||a===true){v(".fancybox-wrap").stop(true).trigger("onReset").remove();p._afterZoomOut()}else{p.isOpen=p.isOpened=false;p.isClosing=true;v(".fancybox-item, .fancybox-nav").remove();p.wrap.stop(true,true).removeClass("fancybox-opened");p.transitions[p.current.closeMethod]()}},play:function(c){var e=function(){clearTimeout(p.player.timer)},a=function(){e();if(p.current&&p.player.isActive){p.player.timer=setTimeout(p.next,p.current.playSpeed)}},d=function(){e();v("body").unbind(".player");p.player.isActive=false;p.trigger("onPlayEnd")},b=function(){if(p.current&&(p.current.loop||p.current.index<p.group.length-1)){p.player.isActive=true;v("body").bind({"afterShow.player onUpdate.player":a,"onCancel.player beforeClose.player":d,"beforeLoad.player":e});a();p.trigger("onPlayStart")}};if(c===true||(!p.player.isActive&&c!==false)){b()}else{d()}},next:function(a){var b=p.current;if(b){if(!C(a)){a=b.direction.next}p.jumpto(b.index+1,a,"next")}},prev:function(a){var b=p.current;if(b){if(!C(a)){a=b.direction.prev}p.jumpto(b.index-1,a,"prev")}},jumpto:function(c,a,d){var b=p.current;if(!b){return}c=r(c);p.direction=a||b.direction[(c>=b.index?"next":"prev")];p.router=d||"jumpto";if(b.loop){if(c<0){c=b.group.length+(c%b.group.length)}c=c%b.group.length}if(b.group[c]!==undefined){p.cancel();p._start(c)}},reposition:function(b,e){var c=p.current,d=c?c.wrap:null,a;if(d){a=p._getPosition(e);if(b&&b.type==="scroll"){delete a.position;d.stop(true,true).animate(a,200)}else{d.css(a);c.pos=v.extend({},c.dim,a)}}},update:function(a){var c=(a&&a.type),b=!c||c==="orientationchange";if(b){clearTimeout(B);B=null}if(!p.isOpen||B){return}B=setTimeout(function(){var d=p.current;if(!d||p.isClosing){return}p.wrap.removeClass("fancybox-tmp");if(b||c==="load"||(c==="resize"&&d.autoResize)){p._setDimension()}if(!(c==="scroll"&&d.canShrink)){p.reposition(a)}p.trigger("onUpdate");B=null},(b&&!z?0:300))},toggle:function(a){if(p.isOpen){p.current.fitToView=v.type(a)==="boolean"?a:!p.current.fitToView;if(z){p.wrap.removeAttr("style").addClass("fancybox-tmp");p.trigger("onUpdate")}p.update()}},hideLoading:function(){D.unbind(".loading");v("#fancybox-loading").remove()},showLoading:function(){var a,b;p.hideLoading();a=v('<div id="fancybox-loading"><div></div></div>').click(p.cancel).appendTo("body");D.bind("keydown.loading",function(c){if((c.which||c.keyCode)===27){c.preventDefault();p.cancel()}});if(!p.defaults.fixed){b=p.getViewport();a.css({position:"absolute",top:(b.h*0.5)+b.y,left:(b.w*0.5)+b.x})}},getViewport:function(){var b=(p.current&&p.current.locked)||false,a={x:A.scrollLeft(),y:A.scrollTop()};if(b){a.w=b[0].clientWidth;a.h=b[0].clientHeight}else{a.w=z&&t.innerWidth?t.innerWidth:A.width();a.h=z&&t.innerHeight?t.innerHeight:A.height()}return a},unbindEvents:function(){if(p.wrap&&u(p.wrap)){p.wrap.unbind(".fb")}D.unbind(".fb");A.unbind(".fb")},bindEvents:function(){var a=p.current,b;if(!a){return}A.bind("orientationchange.fb"+(z?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),p.update);b=a.keys;if(b){D.bind("keydown.fb",function(c){var e=c.which||c.keyCode,d=c.target||c.srcElement;if(e===27&&p.coming){return false}if(!c.ctrlKey&&!c.altKey&&!c.shiftKey&&!c.metaKey&&!(d&&(d.type||v(d).is("[contenteditable]")))){v.each(b,function(g,f){if(a.group.length>1&&f[e]!==undefined){p[g](f[e]);c.preventDefault();return false}if(v.inArray(e,f)>-1){p[g]();c.preventDefault();return false}})}})}if(v.fn.mousewheel&&a.mouseWheel){p.wrap.bind("mousewheel.fb",function(d,c,h,j){var e=d.target||null,g=v(e),f=false;while(g.length){if(f||g.is(".fancybox-skin")||g.is(".fancybox-wrap")){break}f=w(g[0]);g=v(g).parent()}if(c!==0&&!f){if(p.group.length>1&&!a.canShrink){if(j>0||h>0){p.prev(j>0?"down":"left")}else{if(j<0||h<0){p.next(j<0?"up":"right")}}d.preventDefault()}}})}},trigger:function(c,a){var d,b=a||p.coming||p.current;if(!b){return}if(v.isFunction(b[c])){d=b[c].apply(b,Array.prototype.slice.call(arguments,1))}if(d===false){return false}if(b.helpers){v.each(b.helpers,function(e,f){if(f&&p.helpers[e]&&v.isFunction(p.helpers[e][c])){f=v.extend(true,{},p.helpers[e].defaults,f);p.helpers[e][c](f,b)}})}v.event.trigger(c+".fb")},isImage:function(a){return C(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(a){return C(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(f){var e={},a,g,d,c,b;f=r(f);a=p.group[f]||null;if(!a){return false}e=v.extend(true,{},p.opts,a);c=e.margin;b=e.padding;if(v.type(c)==="number"){e.margin=[c,c,c,c]}if(v.type(b)==="number"){e.padding=[b,b,b,b]}if(e.modal){v.extend(true,e,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}})}if(e.autoSize){e.autoWidth=e.autoHeight=true}if(e.width==="auto"){e.autoWidth=true}if(e.height==="auto"){e.autoHeight=true}e.group=p.group;e.index=f;p.coming=e;if(false===p.trigger("beforeLoad")){p.coming=null;return}d=e.type;g=e.href;if(!d){p.coming=null;if(p.current&&p.router&&p.router!=="jumpto"){p.current.index=f;return p[p.router](p.direction)}return false}p.isActive=true;if(d==="image"||d==="swf"){e.autoHeight=e.autoWidth=false;e.scrolling="visible"}if(d==="image"){e.aspectRatio=true}if(d==="iframe"&&z){e.scrolling="scroll"}e.wrap=v(e.tpl.wrap).addClass("fancybox-"+(z?"mobile":"desktop")+" fancybox-type-"+d+" fancybox-tmp "+e.wrapCSS).appendTo(e.parent||"body");v.extend(e,{skin:v(".fancybox-skin",e.wrap),outer:v(".fancybox-outer",e.wrap),inner:v(".fancybox-inner",e.wrap)});v.each(["Top","Right","Bottom","Left"],function(h,j){e.skin.css("padding"+j,y(e.padding[h]))});p.trigger("onReady");if(d==="inline"||d==="html"){if(!e.content||!e.content.length){return p._error("content")}}else{if(!g){return p._error("href")}}if(d==="image"){p._loadImage()}else{if(d==="ajax"){p._loadAjax()}else{if(d==="iframe"){p._loadIframe()}else{p._afterLoad()}}}},_error:function(a){v.extend(p.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:p.coming.tpl.error});p._afterLoad()},_loadImage:function(){var a=p.imgPreload=new Image();a.onload=function(){this.onload=this.onerror=null;p.coming.width=this.width;p.coming.height=this.height;p._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;p._error("image")};a.src=p.coming.href;if(a.complete!==true){p.showLoading()}},_loadAjax:function(){var a=p.coming;p.showLoading();p.ajaxLoad=v.ajax(v.extend({},a.ajax,{url:a.href,error:function(c,b){if(p.coming&&b!=="abort"){p._error("ajax",c)}else{p.hideLoading()}},success:function(c,b){if(b==="success"){a.content=c;p._afterLoad()}}}))},_loadIframe:function(){var b=p.coming,a=v(b.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",z?"auto":b.iframe.scrolling).attr("src",b.href);v(b.wrap).bind("onReset",function(){try{v(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(c){}});if(b.iframe.preload){p.showLoading();a.one("load",function(){v(this).data("ready",1);if(!z){v(this).bind("load.fb",p.update)}v(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();p._afterLoad()})}b.content=a.appendTo(b.inner);if(!b.iframe.preload){p._afterLoad()}},_preloadImages:function(){var a=p.group,b=p.current,f=a.length,d=b.preload?Math.min(b.preload,f-1):0,c,e;for(e=1;e<=d;e+=1){c=a[(b.index+e)%f];if(c.type==="image"&&c.href){new Image().src=c.href}}},_afterLoad:function(){var b=p.coming,j=p.current,d="fancybox-placeholder",g,f,e,a,c,h;p.hideLoading();if(!b||p.isActive===false){return}if(false===p.trigger("afterLoad",b,j)){b.wrap.stop(true).trigger("onReset").remove();p.coming=null;return}if(j){p.trigger("beforeChange",j);j.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()}p.unbindEvents();g=b;f=b.content;e=b.type;a=b.scrolling;v.extend(p,{wrap:g.wrap,skin:g.skin,outer:g.outer,inner:g.inner,current:g,previous:j});c=g.href;switch(e){case"inline":case"ajax":case"html":if(g.selector){f=v("<div>").html(f).find(g.selector)}else{if(u(f)){if(!f.data(d)){f.data(d,v('<div class="'+d+'"></div>').insertAfter(f).hide())}f=f.show().detach();g.wrap.bind("onReset",function(){if(v(this).find(f).length){f.hide().replaceAll(f.data(d)).data(d,false)}})}}break;case"image":f=g.tpl.image.replace("{href}",c);break;case"swf":f='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+c+'"></param>';h="";v.each(g.swf,function(l,k){f+='<param name="'+l+'" value="'+k+'"></param>';h+=" "+l+'="'+k+'"'});f+='<embed src="'+c+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>";break}if(!(u(f)&&f.parent().is(g.inner))){g.inner.append(f)}p.trigger("beforeShow");g.inner.css("overflow",a==="yes"?"scroll":(a==="no"?"hidden":a));p._setDimension();p.reposition();p.isOpen=false;p.coming=null;p.bindEvents();if(!p.isOpened){v(".fancybox-wrap").not(g.wrap).stop(true).trigger("onReset").remove()}else{if(j.prevMethod){p.transitions[j.prevMethod]()}}p.transitions[p.isOpened?g.nextMethod:g.openMethod]();p._preloadImages()},_setDimension:function(){var f=p.getViewport(),k=0,d=false,b=false,at=p.wrap,m=p.skin,a=p.inner,aa=p.current,Y=aa.width,ad=aa.height,am=aa.minWidth,ae=aa.minHeight,h=aa.maxWidth,ac=aa.maxHeight,ao=aa.scrolling,ai=aa.scrollOutside?aa.scrollbarWidth:0,ag=aa.margin,af=r(ag[1]+ag[3]),ak=r(ag[0]+ag[2]),an,aq,l,j,ah,aj,n,Z,ab,e,al,c,ar,o,ap;at.add(m).add(a).width("auto").height("auto").removeClass("fancybox-tmp");an=r(m.outerWidth(true)-m.width());aq=r(m.outerHeight(true)-m.height());l=af+an;j=ak+aq;ah=s(Y)?(f.w-l)*r(Y)/100:Y;aj=s(ad)?(f.h-j)*r(ad)/100:ad;if(aa.type==="iframe"){o=aa.content;if(aa.autoHeight&&o.data("ready")===1){try{if(o[0].contentWindow.document.location){a.width(ah).height(9999);ap=o.contents().find("body");if(ai){ap.css("overflow-x","hidden")}aj=ap.height()}}catch(g){}}}else{if(aa.autoWidth||aa.autoHeight){a.addClass("fancybox-tmp");if(!aa.autoWidth){a.width(ah)}if(!aa.autoHeight){a.height(aj)}if(aa.autoWidth){ah=a.width()}if(aa.autoHeight){aj=a.height()}a.removeClass("fancybox-tmp")}}Y=r(ah);ad=r(aj);ab=ah/aj;am=r(s(am)?r(am,"w")-l:am);h=r(s(h)?r(h,"w")-l:h);ae=r(s(ae)?r(ae,"h")-j:ae);ac=r(s(ac)?r(ac,"h")-j:ac);n=h;Z=ac;if(aa.fitToView){h=Math.min(f.w-l,h);ac=Math.min(f.h-j,ac)}c=f.w-af;ar=f.h-ak;if(aa.aspectRatio){if(Y>h){Y=h;ad=r(Y/ab)}if(ad>ac){ad=ac;Y=r(ad*ab)}if(Y<am){Y=am;ad=r(Y/ab)}if(ad<ae){ad=ae;Y=r(ad*ab)}}else{Y=Math.max(am,Math.min(Y,h));if(aa.autoHeight&&aa.type!=="iframe"){a.width(Y);ad=a.height()}ad=Math.max(ae,Math.min(ad,ac))}if(aa.fitToView){a.width(Y).height(ad);at.width(Y+an);e=at.width();al=at.height();if(aa.aspectRatio){while((e>c||al>ar)&&Y>am&&ad>ae){if(k++>19){break}ad=Math.max(ae,Math.min(ac,ad-10));Y=r(ad*ab);if(Y<am){Y=am;ad=r(Y/ab)}if(Y>h){Y=h;ad=r(Y/ab)}a.width(Y).height(ad);at.width(Y+an);e=at.width();al=at.height()}}else{Y=Math.max(am,Math.min(Y,Y-(e-c)));ad=Math.max(ae,Math.min(ad,ad-(al-ar)))}}if(ai&&ao==="auto"&&ad<aj&&(Y+an+ai)<c){Y+=ai}a.width(Y).height(ad);at.width(Y+an);e=at.width();al=at.height();d=(e>c||al>ar)&&Y>am&&ad>ae;b=aa.aspectRatio?(Y<n&&ad<Z&&Y<ah&&ad<aj):((Y<n||ad<Z)&&(Y<ah||ad<aj));v.extend(aa,{dim:{width:y(e),height:y(al)},origWidth:ah,origHeight:aj,canShrink:d,canExpand:b,wPadding:an,hPadding:aq,wrapSpace:al-m.outerHeight(true),skinSpace:m.height()-ad});if(!o&&aa.autoHeight&&ad>ae&&ad<ac&&!b){a.height("auto")}},_getPosition:function(e){var a=p.current,f=p.getViewport(),c=a.margin,d=p.wrap.width()+c[1]+c[3],g=p.wrap.height()+c[0]+c[2],b={position:"absolute",top:c[0],left:c[3]};if(a.autoCenter&&a.fixed&&!e&&g<=f.h&&d<=f.w){b.position="fixed"}else{if(!a.locked){b.top+=f.y;b.left+=f.x}}b.top=y(Math.max(b.top,b.top+((f.h-g)*a.topRatio)));b.left=y(Math.max(b.left,b.left+((f.w-d)*a.leftRatio)));return b},_afterZoomIn:function(){var a=p.current;if(!a){return}p.isOpen=p.isOpened=true;p.wrap.css("overflow","visible").addClass("fancybox-opened");p.update();if(a.closeClick||(a.nextClick&&p.group.length>1)){p.inner.css("cursor","pointer").bind("click.fb",function(b){if(!v(b.target).is("a")&&!v(b.target).parent().is("a")){b.preventDefault();p[a.closeClick?"close":"next"]()}})}if(a.closeBtn){v(a.tpl.closeBtn).appendTo(p.skin).bind(z?"touchstart.fb":"click.fb",function(b){b.preventDefault();p.close()})}if(a.arrows&&p.group.length>1){if(a.loop||a.index>0){v(a.tpl.prev).appendTo(p.outer).bind("click.fb",p.prev)}if(a.loop||a.index<p.group.length-1){v(a.tpl.next).appendTo(p.outer).bind("click.fb",p.next)}}p.trigger("afterShow");if(!a.loop&&a.index===a.group.length-1){p.play(false)}else{if(p.opts.autoPlay&&!p.player.isActive){p.opts.autoPlay=false;p.play()}}},_afterZoomOut:function(a){a=a||p.current;v(".fancybox-wrap").trigger("onReset").remove();v.extend(p,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});p.trigger("afterClose",a)}});p.transitions={getOrigPosition:function(){var j=p.current,b=j.element,f=j.orig,g={},c=50,e=50,h=j.hPadding,d=j.wPadding,a=p.getViewport();if(!f&&j.isDom&&b.is(":visible")){f=b.find("img:first");if(!f.length){f=b}}if(u(f)){g=f.offset();if(f.is("img")){c=f.outerWidth();e=f.outerHeight()}}else{g.top=a.y+(a.h-e)*j.topRatio;g.left=a.x+(a.w-c)*j.leftRatio}if(p.wrap.css("position")==="fixed"||j.locked){g.top-=a.y;g.left-=a.x}g={top:y(g.top-h*j.topRatio),left:y(g.left-d*j.leftRatio),width:y(c+d),height:y(e+h)};return g},step:function(b,a){var h,f,e,c=a.prop,j=p.current,g=j.wrapSpace,d=j.skinSpace;if(c==="width"||c==="height"){h=a.end===a.start?1:(b-a.start)/(a.end-a.start);if(p.isClosing){h=1-h}f=c==="width"?j.wPadding:j.hPadding;e=b-f;p.skin[c](r(c==="width"?e:e-(g*h)));p.inner[c](r(c==="width"?e:e-(g*h)-(d*h)))}},zoomIn:function(){var a=p.current,d=a.pos,c=a.openEffect,b=c==="elastic",e=v.extend({opacity:1},d);delete e.position;if(b){d=this.getOrigPosition();if(a.openOpacity){d.opacity=0.1}}else{if(c==="fade"){d.opacity=0.1}}p.wrap.css(d).animate(e,{duration:c==="none"?0:a.openSpeed,easing:a.openEasing,step:b?this.step:null,complete:p._afterZoomIn})},zoomOut:function(){var a=p.current,c=a.closeEffect,b=c==="elastic",d={opacity:0.1};if(b){d=this.getOrigPosition();if(a.closeOpacity){d.opacity=0.1}}p.wrap.animate(d,{duration:c==="none"?0:a.closeSpeed,easing:a.closeEasing,step:b?this.step:null,complete:p._afterZoomOut})},changeIn:function(){var b=p.current,e=b.nextEffect,f=b.pos,g={opacity:1},c=p.direction,a=200,d;f.opacity=0.1;if(e==="elastic"){d=c==="down"||c==="up"?"top":"left";if(c==="down"||c==="right"){f[d]=y(r(f[d])-a);g[d]="+="+a+"px"}else{f[d]=y(r(f[d])+a);g[d]="-="+a+"px"}}if(e==="none"){p._afterZoomIn()}else{p.wrap.css(f).animate(g,{duration:b.nextSpeed,easing:b.nextEasing,complete:function(){setTimeout(p._afterZoomIn,20)}})}},changeOut:function(){var c=p.previous,d=c.prevEffect,e={opacity:0.1},b=p.direction,a=200;if(d==="elastic"){e[b==="down"||b==="up"?"top":"left"]=(b==="up"||b==="left"?"-":"+")+"="+a+"px"}c.wrap.animate(e,{duration:d==="none"?0:c.prevSpeed,easing:c.prevEasing,complete:function(){v(this).trigger("onReset").remove()}})}};p.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!z,fixed:true},overlay:null,fixed:false,create:function(a){a=v.extend({},this.defaults,a);if(this.overlay){this.close()}this.overlay=v('<div class="fancybox-overlay"></div>').appendTo("body");this.fixed=false;if(a.fixed&&p.defaults.fixed){this.overlay.addClass("fancybox-overlay-fixed");this.fixed=true}},open:function(a){var b=this;a=v.extend({},this.defaults,a);if(this.overlay){this.overlay.unbind(".overlay").width("auto").height("auto")}else{this.create(a)}if(!this.fixed){A.bind("resize.overlay",v.proxy(this.update,this));this.update()}if(a.closeClick){this.overlay.bind("click.overlay",function(c){if(v(c.target).hasClass("fancybox-overlay")){if(p.isActive){p.close()}else{b.close()}}})}this.overlay.css(a.css).show()},close:function(){v(".fancybox-overlay").remove();A.unbind("resize.overlay");this.overlay=null;if(this.margin!==false){v("body").css("margin-right",this.margin);this.margin=false}if(this.el){this.el.removeClass("fancybox-lock")}},update:function(){var a="100%",b;this.overlay.width(a).height("100%");if(v.browser.msie){b=Math.max(q.documentElement.offsetWidth,q.body.offsetWidth);if(D.width()>b){a=D.width()}}else{if(D.width()>A.width()){a=D.width()}}this.overlay.width(a).height(D.height())},onReady:function(b,a){v(".fancybox-overlay").stop(true,true);if(!this.overlay){this.margin=D.height()>A.height()||v("body").css("overflow-y")==="scroll"?v("body").css("margin-right"):false;this.el=q.all&&!q.querySelector?v("html"):v("body");this.create(b)}if(b.locked&&this.fixed){a.locked=this.overlay.append(a.wrap);a.fixed=false}if(b.showEarly===true){this.beforeShow.apply(this,arguments)}},beforeShow:function(b,a){if(a.locked){this.el.addClass("fancybox-lock");if(this.margin!==false){v("body").css("margin-right",r(this.margin)+a.scrollbarWidth)}}this.open(b)},onUpdate:function(){if(!this.fixed){this.update()}},afterClose:function(a){if(this.overlay&&!p.isActive){this.overlay.fadeOut(a.speedOut,v.proxy(this.close,this))}}};p.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var c=p.current,a=c.title,f=e.type,b,d;if(v.isFunction(a)){a=a.call(c.element,c)}if(!C(a)||v.trim(a)===""){return}b=v('<div class="fancybox-title fancybox-title-'+f+'-wrap">'+a+"</div>");switch(f){case"inside":d=p.skin;break;case"outside":d=p.wrap;break;case"over":d=p.inner;break;default:d=p.skin;b.appendTo("body");if(v.browser.msie){b.width(b.width())}b.wrapInner('<span class="child"></span>');p.current.margin[2]+=Math.abs(r(b.css("margin-bottom")));break}b[(e.position==="top"?"prependTo":"appendTo")](d)}};v.fn[x]=function(c){var d,b=v(this),e=this.selector||"",a=function(f){var g=v(this).blur(),j=d,h,k;if(!(f.ctrlKey||f.altKey||f.shiftKey||f.metaKey)&&!g.is(".fancybox-wrap")){h=c.groupAttr||"data-fancybox-group";k=g.attr(h);if(!k){h="rel";k=g.get(0)[h]}if(k&&k!==""&&k!=="nofollow"){g=e.length?v(e):b;g=g.filter("["+h+'="'+k+'"]');j=g.index(this)}c.index=j;if(p.open(g,c)!==false){f.preventDefault()}}};c=c||{};d=c.index||0;if(!e||c.live===false){b.unbind("click.fb-start").bind("click.fb-start",a)}else{D.undelegate(e,"click.fb-start").delegate(e+":not('.fancybox-item, .fancybox-nav')","click.fb-start",a)}this.filter("[data-fancybox-start=1]").trigger("click");return this};D.ready(function(){if(v.scrollbarWidth===undefined){v.scrollbarWidth=function(){var b=v('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),a=b.children(),c=a.innerWidth()-a.height(99).innerWidth();b.remove();return c}}if(v.support.fixedPosition===undefined){v.support.fixedPosition=(function(){var a=v('<div style="position:fixed;top:20px;"></div>').appendTo("body"),b=(a[0].offsetTop===20||a[0].offsetTop===15);a.remove();return b}())}v.extend(p.defaults,{scrollbarWidth:v.scrollbarWidth(),fixed:v.support.fixedPosition,parent:v("body")})})};(function(a){window.CrayonQuickTags=new function(){var b=this;b.init=function(){b.sel='*[id*="crayon_quicktag"],*[class*="crayon_quicktag"]';CrayonTagEditor.bind(b.sel);QTags.addButton("crayon_quicktag","crayon",function(){CrayonTagEditor.showDialog({insert:function(e){QTags.insertContent(e)},select:b.getSelectedText,editor_str:"html",output:"encode"});a(b.sel).removeClass("qt_crayon_highlight")});var c;var d=setInterval(function(){c=a(b.sel).first();if(typeof c!="undefined"){clearInterval(d)}},100)};b.getSelectedText=function(){if(QTags.instances.length==0){return null}else{var e=QTags.instances[0];var d=e.canvas.selectionStart;var c=e.canvas.selectionEnd;return e.canvas.value.substring(d,c)}}};a(document).ready(function(){CrayonQuickTags.init()})})(jQueryCrayon);(function(a){window.CrayonTagEditor=new function(){var k=this;var B=false;var y=false;var e=false;var o,f,r,A,w;var C,t,j,v;var x=0;var l,q;var b=null;var g="";var D=false;var n,p,d;var z,c,u,m,h;k.init=function(){n=CrayonTagEditorSettings;p=CrayonSyntaxSettings;d=CrayonUtil};k.bind=function(s){if(!B){B=true;k.init()}k.loadDialog();a(s).crayonFancybox({href:n.content_css,margin:[40,10,40,10],padding:0,width:690,height:"100%",autoSize:false,title:"",beforeShow:function(){a(this.outer).prepend(a(n.bar_content))},afterShow:function(){a(n.code_css).focus()},beforeClose:function(){a(n.bar).prepend(a(n.bar_content))},closeBtn:false})};k.hide=function(){a.crayonFancybox.close();return false};k.loadDialog=function(){if(!y){y=true}else{return}d.initFancybox();CrayonUtil.getAJAX({action:"crayon-tag-editor",is_admin:p.is_admin},function(H){z=a('<div id="'+n.css+'"></div>');z.appendTo("body").hide();z.html(H);k.setOrigValues();m=z.find(n.submit_css);h=z.find(n.cancel_css);c=a(n.code_css);u=a("#crayon-te-clear");l=function(){var I=u.is(":visible");if(c.val().length>0&&!I){u.show();c.removeClass(p.selected)}else{if(c.val().length<=0){u.hide()}}};c.keyup(l);c.change(l);u.click(function(){c.val("");c.removeClass(p.selected);c.focus()});var F=a(n.url_css);var E=a(n.url_info_css);var G=CrayonTagEditorSettings.extensions;q=function(){if(F.val().length>0&&!E.is(":visible")){E.show();F.removeClass(p.selected)}else{if(F.val().length<=0){E.hide()}}var K=CrayonUtil.getExt(F.val());if(K){var L=G[K];var J=L?L:K;var I=CrayonTagEditorSettings.fallback_lang;a(n.lang_css+" option").each(function(){if(a(this).val()==J){I=J}});a(n.lang_css).val(I)}};F.keyup(q);F.change(q);var s=function(){var K=a(this);var I=a(this).attr(p.orig_value);if(typeof I=="undefined"){I=""}var L=k.settingValue(K);CrayonUtil.log(K.attr("id")+" value: "+L);var J=null;if(K.is("input[type=checkbox]")){J=K.next("span")}CrayonUtil.log("   >>> "+K.attr("id")+" is "+I+" = "+L);if(I==L){K.removeClass(p.changed);if(J){J.removeClass(p.changed)}}else{K.addClass(p.changed);if(J){J.addClass(p.changed)}}k.settingValue(K,L)};a("."+p.setting+"[id]:not(."+p.special+")").each(function(){a(this).change(s);a(this).keyup(s)})})};k.showDialog=function(E){E=a.extend({insert:null,edit:null,show:null,hide:k.hide,select:null,editor_str:null,ed:null,node:null,input:null,output:null},E);k.resetSettings();o=E.insert;f=E.edit;r=E.show;A=E.hide;w=E.select;C=E.input;t=E.output;j=E.editor_str;var F=E.node;var F=E.node;D=false;m.unbind();m.click(function(V){k.submitButton();V.preventDefault()});k.setSubmitText(n.submit_add);h.unbind();h.click(function(V){k.hide();V.preventDefault()});if(k.isCrayon(F)){b=a(F);if(b.length!=0){g=b.attr("class");var L=new RegExp("\\b([A-Za-z-]+)"+n.attr_sep+"(\\S+)","gim");var s=L.execAll(g);g=a.trim(g.replace(L,""));var M={};for(var R in s){var J=s[R][1];var N=s[R][2];M[J]=N}var U=b.attr("title");if(U){M.title=U}var H=b.attr("data-url");if(H){M.url=H}if(typeof M.highlight!="undefined"){M.highlight="0"?"1":"0"}D=b.hasClass(n.inline_css);M.inline=D?"1":"0";var S=[];a(n.lang_css+" option").each(function(){var V=a(this).val();if(V){S.push(V)}});if(a.inArray(M.lang,S)==-1){M.lang=n.fallback_lang}M=k.validate(M);for(var O in M){var K=a("#"+p.prefix+O+"."+p.setting);var N=M[O];k.settingValue(K,N);K.change();if(!K.hasClass(p.special)){K.addClass(p.changed);if(K.is("input[type=checkbox]")){highlight=K.next("span");highlight.addClass(p.changed)}}CrayonUtil.log("loaded: "+O+":"+N)}e=true;k.setSubmitText(n.submit_edit);var Q=b.html();if(C=="encode"){Q=CrayonUtil.encode_html(Q)}else{if(C=="decode"){Q=CrayonUtil.decode_html(Q)}}c.val(Q)}else{CrayonUtil.log("cannot load currNode of type pre")}}else{if(w){c.val(w)}e=false;k.setSubmitText(n.submit_add);b=null;g=""}var G=a("#"+n.inline_css);G.change(function(){D=a(this).is(":checked");var V=a("."+n.inline_hide_css);var Z=a("."+n.inline_hide_only_css);var X=[n.mark_css,n.range_css,n.title_css,n.url_css];for(var W in X){var Y=a(X[W]);Y.attr("disabled",D)}if(D){V.hide();Z.hide();V.closest("tr").hide();for(var W in X){var Y=a(X[W]);Y.addClass("crayon-disabled")}}else{V.show();Z.show();V.closest("tr").show();for(var W in X){var Y=a(X[W]);Y.removeClass("crayon-disabled")}}});G.change();var I=e?n.dialog_title_edit:n.dialog_title_add;a(n.dialog_title_css).html(I);if(r){r()}c.focus();l();q();if(v){clearInterval(v);x=0}var T=a("#TB_window");T.hide();var P=function(){T.show();var V=a(window).scrollTop();a(window).scrollTop(V+10);a(window).scrollTop(V-10)};v=setInterval(function(){if(typeof T!="undefined"&&!T.hasClass("crayon-te-ajax")){T.addClass("crayon-te-ajax");clearInterval(v);P()}if(x>=100){clearInterval(v);P()}x++},40)};k.addCrayon=function(){var E=a(n.url_css);if(E.val().length==0&&c.val().length==0){c.addClass(p.selected);c.focus();return false}c.removeClass(p.selected);var M=a("#"+n.inline_css);D=M.length!=0&&M.is(":checked");var G=br_after="";if(!e){if(!D){if(j=="html"){br_after=G=" \n"}else{br_after="<p>&nbsp;</p>"}}else{if(j=="html"){br_after=G=" "}else{br_after="&nbsp;"}}}var P=(D?"span":"pre");var I=G+"<"+P+" ";var K={};I+='class="';var s=new RegExp("\\b"+n.inline_css+"\\b","gim");if(D){if(s.exec(g)==null){g+=" "+n.inline_css+" "}}else{g=g.replace(s,"")}a("."+p.changed+"[id],."+p.changed+"["+n.data_value+"]").each(function(){var R=a(this).attr("id");var Q=a(this).attr(n.data_value);R=d.removePrefixFromID(R);K[R]=Q});K.lang=a(n.lang_css).val();var H=a(n.mark_css).val();if(H.length!=0&&!D){K.mark=H}var J=a(n.range_css).val();if(J.length!=0&&!D){K.range=J}if(a(n.hl_css).is(":checked")){K.highlight="0"}K.decode="true";K=k.validate(K);for(var F in K){var O=K[F];CrayonUtil.log("add "+F+":"+O);I+=F+n.attr_sep+O+" "}I+=g;I+='" ';if(!D){var N=a(n.title_css).val();if(N.length!=0){I+='title="'+N+'" '}var E=a(n.url_css).val();if(E.length!=0){I+='data-url="'+E+'" '}}var L=a(n.code_css).val();if(t=="encode"){L=CrayonUtil.encode_html(L)}else{if(t=="decode"){L=CrayonUtil.decode_html(L)}}L=typeof L!="undefined"?L:"";I+=">"+L+"</"+P+">"+br_after;if(e&&f){f(I)}else{if(o){o(I)}}return true};k.submitButton=function(){CrayonUtil.log("submit");if(k.addCrayon()!=false){k.hideDialog()}};k.hideDialog=function(){CrayonUtil.log("hide");if(A){A()}};k.setOrigValues=function(){a("."+p.setting+"[id]").each(function(){var s=a(this);s.attr(p.orig_value,k.settingValue(s))})};k.resetSettings=function(){CrayonUtil.log("reset");a("."+p.setting).each(function(){var s=a(this);k.settingValue(s,s.attr(p.orig_value));s.change()});c.val("")};k.settingValue=function(s,E){if(typeof E=="undefined"){E="";if(s.is("input[type=checkbox]")){E=s.is(":checked")?"true":"false"}else{E=s.val()}return E}else{if(s.is("input[type=checkbox]")){if(typeof E=="string"){if(E=="true"||E=="1"){E=true}else{if(E=="false"||E=="0"){E=false}}}s.prop("checked",E)}else{s.val(E)}s.attr(n.data_value,E)}};k.validate=function(G){var s=["range","mark"];for(var E in s){var F=s[E];if(typeof G[F]!="undefined"){G[F]=G[F].replace(/\s/g,"")}}return G};k.isCrayon=function(s){return s!=null&&(s.nodeName=="PRE"||(s.nodeName=="SPAN"&&a(s).hasClass(n.inline_css)))};k.elemValue=function(E){var s=null;if(E.is("input[type=checkbox]")){s=E.is(":checked")}else{s=E.val()}return s};k.setSubmitText=function(s){m.html(s)}}})(jQueryCrayon);