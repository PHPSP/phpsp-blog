(function(c){function t(){this._curInst=null;this._disabledInputs=[];this._inDialog=this._timepickerShowing=false;this._dialogClass="ui-timepicker-dialog";this._mainDivId="ui-timepicker-div";this._inlineClass="ui-timepicker-inline";this._currentClass="ui-timepicker-current";this._dayOverClass="ui-timepicker-days-cell-over";this.regional=[];this.regional[""]={hourText:"Hour",minuteText:"Minute",amPmText:["AM","PM"],closeButtonText:"Done",nowButtonText:"Now",deselectButtonText:"Deselect"};this._defaults=
{showOn:"focus",button:null,showAnim:"fadeIn",showOptions:{},appendText:"",beforeShow:null,onSelect:null,onClose:null,timeSeparator:":",periodSeparator:" ",showPeriod:false,showPeriodLabels:true,showLeadingZero:true,showMinutesLeadingZero:true,altField:"",defaultTime:"now",myPosition:"left top",atPosition:"left bottom",onHourShow:null,onMinuteShow:null,hours:{starts:0,ends:23},minutes:{starts:0,ends:55,interval:5},rows:4,showHours:true,showMinutes:true,optionalMinutes:false,showCloseButton:false,
showNowButton:false,showDeselectButton:false};c.extend(this._defaults,this.regional[""]);this.tpDiv=c('<div id="'+this._mainDivId+'" class="ui-timepicker ui-widget ui-helper-clearfix ui-corner-all " style="display: none"></div>')}function r(a,b){c.extend(a,b);for(var d in b)if(b[d]==null||b[d]==undefined)a[d]=b[d];return a}c.extend(c.ui,{timepicker:{version:"0.3.1"}});var z=(new Date).getTime();c.extend(t.prototype,{markerClassName:"hasTimepicker",log:function(){},_widgetTimepicker:function(){return this.tpDiv},
setDefaults:function(a){r(this._defaults,a||{});return this},_attachTimepicker:function(a,b){var d=null;for(var e in this._defaults){var f=a.getAttribute("time:"+e);if(f){d=d||{};try{d[e]=eval(f)}catch(g){d[e]=f}}}e=a.nodeName.toLowerCase();f=e=="div"||e=="span";if(!a.id){this.uuid+=1;a.id="tp"+this.uuid}var h=this._newInst(c(a),f);h.settings=c.extend({},b||{},d||{});if(e=="input"){this._connectTimepicker(a,h);this._setTimeFromField(h)}else f&&this._inlineTimepicker(a,h)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,
"\\\\$1"),input:a,inline:b,tpDiv:!b?this.tpDiv:c('<div class="'+this._inlineClass+' ui-timepicker ui-widget  ui-helper-clearfix"></div>')}},_connectTimepicker:function(a,b){var d=c(a);b.append=c([]);b.trigger=c([]);if(!d.hasClass(this.markerClassName)){this._attachments(d,b);d.addClass(this.markerClassName).keydown(this._doKeyDown).keyup(this._doKeyUp).bind("setData.timepicker",function(e,f,g){b.settings[f]=g}).bind("getData.timepicker",function(e,f){return this._get(b,f)});c.data(a,"timepicker",
b)}},_doKeyDown:function(a){var b=c.timepicker._getInst(a.target),d=true;b._keyEvent=true;if(c.timepicker._timepickerShowing)switch(a.keyCode){case 9:c.timepicker._hideTimepicker();d=false;break;case 13:c.timepicker._updateSelectedValue(b);c.timepicker._hideTimepicker();return false;case 27:c.timepicker._hideTimepicker();break;default:d=false}else if(a.keyCode==36&&a.ctrlKey)c.timepicker._showTimepicker(this);else d=false;if(d){a.preventDefault();a.stopPropagation()}},_doKeyUp:function(a){a=c.timepicker._getInst(a.target);
c.timepicker._setTimeFromField(a);c.timepicker._updateTimepicker(a)},_attachments:function(a,b){var d=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove();if(d){b.append=c('<span class="'+this._appendClass+'">'+d+"</span>");a[e?"before":"after"](b.append)}a.unbind("focus.timepicker",this._showTimepicker);a.unbind("click.timepicker",this._adjustZIndex);b.trigger&&b.trigger.remove();d=this._get(b,"showOn");if(d=="focus"||d=="both"){a.bind("focus.timepicker",this._showTimepicker);
a.bind("click.timepicker",this._adjustZIndex)}if(d=="button"||d=="both"){d=this._get(b,"button");c(d).bind("click.timepicker",function(){if(c.timepicker._timepickerShowing&&c.timepicker._lastInput==a[0])c.timepicker._hideTimepicker();else b.input.is(":disabled")||c.timepicker._showTimepicker(a[0]);return false})}},_inlineTimepicker:function(a,b){var d=c(a);if(!d.hasClass(this.markerClassName)){d.addClass(this.markerClassName).append(b.tpDiv).bind("setData.timepicker",function(e,f,g){b.settings[f]=
g}).bind("getData.timepicker",function(e,f){return this._get(b,f)});c.data(a,"timepicker",b);this._setTimeFromField(b);this._updateTimepicker(b);b.tpDiv.show()}},_adjustZIndex:function(a){a=a.target||a;c.timepicker._getInst(a).tpDiv.css("zIndex",c.timepicker._getZIndex(a)+1)},_showTimepicker:function(a){a=a.target||a;if(a.nodeName.toLowerCase()!="input")a=c("input",a.parentNode)[0];if(!(c.timepicker._isDisabledTimepicker(a)||c.timepicker._lastInput==a)){c.timepicker._hideTimepicker();var b=c.timepicker._getInst(a);
c.timepicker._curInst&&c.timepicker._curInst!=b&&c.timepicker._curInst.tpDiv.stop(true,true);var d=c.timepicker._get(b,"beforeShow");r(b.settings,d?d.apply(a,[a,b]):{});b.lastVal=null;c.timepicker._lastInput=a;c.timepicker._setTimeFromField(b);if(c.timepicker._inDialog)a.value="";if(!c.timepicker._pos){c.timepicker._pos=c.timepicker._findPos(a);c.timepicker._pos[1]+=a.offsetHeight}var e=false;c(a).parents().each(function(){e|=c(this).css("position")=="fixed";return!e});if(e&&c.browser.opera){c.timepicker._pos[0]-=
document.documentElement.scrollLeft;c.timepicker._pos[1]-=document.documentElement.scrollTop}d={left:c.timepicker._pos[0],top:c.timepicker._pos[1]};c.timepicker._pos=null;b.tpDiv.css({position:"absolute",display:"block",top:"-1000px"});c.timepicker._updateTimepicker(b);if(!b.inline&&typeof c.ui.position=="object"){b.tpDiv.position({of:b.input,my:c.timepicker._get(b,"myPosition"),at:c.timepicker._get(b,"atPosition"),collision:"flip"});d=b.tpDiv.offset();c.timepicker._pos=[d.top,d.left]}b._hoursClicked=
false;b._minutesClicked=false;d=c.timepicker._checkOffset(b,d,e);b.tpDiv.css({position:c.timepicker._inDialog&&c.blockUI?"static":e?"fixed":"absolute",display:"none",left:d.left+"px",top:d.top+"px"});if(!b.inline){d=c.timepicker._get(b,"showAnim");var f=c.timepicker._get(b,"duration"),g=function(){c.timepicker._timepickerShowing=true;var h=c.timepicker._getBorders(b.tpDiv);b.tpDiv.find("iframe.ui-timepicker-cover").css({left:-h[0],top:-h[1],width:b.tpDiv.outerWidth(),height:b.tpDiv.outerHeight()})};
c.timepicker._adjustZIndex(a);c.effects&&c.effects[d]?b.tpDiv.show(d,c.timepicker._get(b,"showOptions"),f,g):b.tpDiv[d||"show"](d?f:null,g);if(!d||!f)g();b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus();c.timepicker._curInst=b}}},_getZIndex:function(a){a=c(a);for(var b;a.length&&a[0]!==document;){b=a.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){b=parseInt(a.css("zIndex"),10);if(!isNaN(b)&&b!==0)return b}a=a.parent()}},_refreshTimepicker:function(a){(a=this._getInst(a))&&
this._updateTimepicker(a)},_updateTimepicker:function(a){a.tpDiv.empty().append(this._generateHTML(a));this._rebindDialogEvents(a)},_rebindDialogEvents:function(a){var b=c.timepicker._getBorders(a.tpDiv),d=this;a.tpDiv.find("iframe.ui-timepicker-cover").css({left:-b[0],top:-b[1],width:a.tpDiv.outerWidth(),height:a.tpDiv.outerHeight()}).end().find(".ui-timepicker-minute-cell").unbind().bind("click",{fromDoubleClick:false},c.proxy(c.timepicker.selectMinutes,this)).bind("dblclick",{fromDoubleClick:true},
c.proxy(c.timepicker.selectMinutes,this)).end().find(".ui-timepicker-hour-cell").unbind().bind("click",{fromDoubleClick:false},c.proxy(c.timepicker.selectHours,this)).bind("dblclick",{fromDoubleClick:true},c.proxy(c.timepicker.selectHours,this)).end().find(".ui-timepicker td a").unbind().bind("mouseout",function(){c(this).removeClass("ui-state-hover");this.className.indexOf("ui-timepicker-prev")!=-1&&c(this).removeClass("ui-timepicker-prev-hover");this.className.indexOf("ui-timepicker-next")!=-1&&
c(this).removeClass("ui-timepicker-next-hover")}).bind("mouseover",function(){if(!d._isDisabledTimepicker(a.inline?a.tpDiv.parent()[0]:a.input[0])){c(this).parents(".ui-timepicker-calendar").find("a").removeClass("ui-state-hover");c(this).addClass("ui-state-hover");this.className.indexOf("ui-timepicker-prev")!=-1&&c(this).addClass("ui-timepicker-prev-hover");this.className.indexOf("ui-timepicker-next")!=-1&&c(this).addClass("ui-timepicker-next-hover")}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end().find(".ui-timepicker-now").bind("click",
function(e){c.timepicker.selectNow(e)}).end().find(".ui-timepicker-deselect").bind("click",function(e){c.timepicker.deselectTime(e)}).end().find(".ui-timepicker-close").bind("click",function(){c.timepicker._hideTimepicker()}).end()},_generateHTML:function(a){var b,d,e,f,g=this._get(a,"showPeriod")==true,h=this._get(a,"showPeriodLabels")==true,i=this._get(a,"showLeadingZero")==true;d=this._get(a,"showHours")==true;var j=this._get(a,"showMinutes")==true,l=this._get(a,"amPmText"),k=this._get(a,"rows"),
m=0,p=0,q=f=0,u=0,s=0,n=Array(),v=this._get(a,"hours");b=null;var o=0;e=this._get(a,"hourText");var w=this._get(a,"showCloseButton"),A=this._get(a,"closeButtonText"),x=this._get(a,"showNowButton"),B=this._get(a,"nowButtonText"),y=this._get(a,"showDeselectButton"),C=this._get(a,"deselectButtonText"),D=w||x||y;for(b=v.starts;b<=v.ends;b++)n.push(b);b=Math.ceil(n.length/k);if(h){for(o=0;o<n.length;o++)if(n[o]<12)f++;else q++;o=0;m=Math.floor(f/n.length*k);p=Math.floor(q/n.length*k);if(k!=m+p)if(f&&(!q||
!m||p&&f/m>=q/p))m++;else p++;u=Math.min(m,1);s=m+1;b=Math.ceil(Math.max(f/m,q/p))}f='<table class="ui-timepicker-table ui-widget-content ui-corner-all"><tr>';if(d){f+='<td class="ui-timepicker-hours"><div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">'+e+'</div><table class="ui-timepicker">';for(d=1;d<=k;d++){f+="<tr>";if(d==u&&h)f+='<th rowspan="'+m.toString()+'" class="periods" scope="row">'+l[0]+"</th>";if(d==s&&h)f+='<th rowspan="'+p.toString()+'" class="periods" scope="row">'+
l[1]+"</th>";for(e=1;e<=b;e++)if(h&&d<s&&n[o]>=12)f+=this._generateHTMLHourCell(a,undefined,g,i);else{f+=this._generateHTMLHourCell(a,n[o],g,i);o++}f+="</tr>"}f+="</tr></table></td>"}if(j){f+='<td class="ui-timepicker-minutes">';f+=this._generateHTMLMinutes(a);f+="</td>"}f+="</tr>";if(D){g='<tr><td colspan="3"><div class="ui-timepicker-buttonpane ui-widget-content">';if(x)g+='<button type="button" class="ui-timepicker-now ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+a.id.replace(/\\\\/g,
"\\")+'" >'+B+"</button>";if(y)g+='<button type="button" class="ui-timepicker-deselect ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+a.id.replace(/\\\\/g,"\\")+'" >'+C+"</button>";if(w)g+='<button type="button" class="ui-timepicker-close ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+a.id.replace(/\\\\/g,"\\")+'" >'+A+"</button>";f+=g+"</div></td></tr>"}f+="</table>";f+=c.browser.msie&&parseInt(c.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-timepicker-cover" frameborder="0"></iframe>':
"";return f},_updateMinuteDisplay:function(a){var b=this._generateHTMLMinutes(a);a.tpDiv.find("td.ui-timepicker-minutes").html(b);this._rebindDialogEvents(a)},_generateHTMLMinutes:function(a){var b,d,e="",f=this._get(a,"rows"),g=Array();d=this._get(a,"minutes");var h=null,i=0,j=this._get(a,"showMinutesLeadingZero")==true,l=this._get(a,"onMinuteShow"),k=this._get(a,"minuteText");if(!d.starts)d.starts=0;if(!d.ends)d.ends=59;for(b=d.starts;b<=d.ends;b+=d.interval)g.push(b);h=Math.round(g.length/f+0.49);
if(l&&l.apply(a.input?a.input[0]:null,[a.hours,a.minutes])==false)for(i=0;i<g.length;i+=1){b=g[i];if(l.apply(a.input?a.input[0]:null,[a.hours,b])){a.minutes=b;break}}e+='<div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">'+k+'</div><table class="ui-timepicker">';i=0;for(d=1;d<=f;d++){for(e+="<tr>";i<d*h;){b=g[i];l="";if(b!==undefined)l=b<10&&j?"0"+b.toString():b.toString();e+=this._generateHTMLMinuteCell(a,b,l);i++}e+="</tr>"}e+="</table>";return e},_generateHTMLHourCell:function(a,
b,d,e){var f=b;if(b>12&&d)f=b-12;if(f==0&&d)f=12;if(f<10&&e)f="0"+f;d="";d=true;e=this._get(a,"onHourShow");if(b==undefined)return d='<td><span class="ui-state-default ui-state-disabled">&nbsp;</span></td>';if(e)d=e.apply(a.input?a.input[0]:null,[b]);return d=d?'<td class="ui-timepicker-hour-cell" data-timepicker-instance-id="#'+a.id.replace(/\\\\/g,"\\")+'" data-hour="'+b.toString()+'"><a class="ui-state-default '+(b==a.hours?"ui-state-active":"")+'">'+f.toString()+"</a></td>":'<td><span class="ui-state-default ui-state-disabled '+
(b==a.hours?" ui-state-active ":" ")+'">'+f.toString()+"</span></td>"},_generateHTMLMinuteCell:function(a,b,d){var e="";e=true;var f=this._get(a,"onMinuteShow");if(f)e=f.apply(a.input?a.input[0]:null,[a.hours,b]);if(b==undefined)return e='<td><span class="ui-state-default ui-state-disabled">&nbsp;</span></td>';return e=e?'<td class="ui-timepicker-minute-cell" data-timepicker-instance-id="#'+a.id.replace(/\\\\/g,"\\")+'" data-minute="'+b.toString()+'" ><a class="ui-state-default '+(b==a.minutes?"ui-state-active":
"")+'" >'+d+"</a></td>":'<td><span class="ui-state-default ui-state-disabled" >'+d+"</span></td>"},_destroyTimepicker:function(a){var b=c(a),d=c.data(a,"timepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();c.removeData(a,"timepicker");if(e=="input"){d.append.remove();d.trigger.remove();b.removeClass(this.markerClassName).unbind("focus.timepicker",this._showTimepicker).unbind("click.timepicker",this._adjustZIndex)}else if(e=="div"||e=="span")b.removeClass(this.markerClassName).empty()}},
_enableTimepicker:function(a){var b=c(a),d=b.attr("id"),e=c.data(a,"timepicker");if(b.hasClass(this.markerClassName)){var f=a.nodeName.toLowerCase();if(f=="input"){a.disabled=false;a=this._get(e,"button");c(a).removeClass("ui-state-disabled").disabled=false;e.trigger.filter("button").each(function(){this.disabled=false}).end()}else if(f=="div"||f=="span"){e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled");e.find("button").each(function(){this.disabled=false})}this._disabledInputs=
c.map(this._disabledInputs,function(g){return g==d?null:g})}},_disableTimepicker:function(a){var b=c(a),d=c.data(a,"timepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){e=this._get(d,"button");c(e).addClass("ui-state-disabled").disabled=true;a.disabled=true;d.trigger.filter("button").each(function(){this.disabled=true}).end()}else if(e=="div"||e=="span"){d=b.children("."+this._inlineClass);d.children().addClass("ui-state-disabled");d.find("button").each(function(){this.disabled=
true})}this._disabledInputs=c.map(this._disabledInputs,function(f){return f==a?null:f});this._disabledInputs[this._disabledInputs.length]=b.attr("id")}},_isDisabledTimepicker:function(a){if(!a)return false;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return true;return false},_checkOffset:function(a,b,d){var e=a.tpDiv.outerWidth(),f=a.tpDiv.outerHeight(),g=a.input?a.input.outerWidth():0,h=a.input?a.input.outerHeight():0,i=document.documentElement.clientWidth+c(document).scrollLeft(),
j=document.documentElement.clientHeight+c(document).scrollTop();b.left-=this._get(a,"isRTL")?e-g:0;b.left-=d&&b.left==a.input.offset().left?c(document).scrollLeft():0;b.top-=d&&b.top==a.input.offset().top+h?c(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>i&&i>e?Math.abs(b.left+e-i):0);b.top-=Math.min(b.top,b.top+f>j&&j>f?Math.abs(f+h):0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1);)a=a[b?"previousSibling":"nextSibling"];
a=c(a).offset();return[a.left,a.top]},_getBorders:function(a){var b=function(d){return{thin:1,medium:2,thick:3}[d]||d};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkExternalClick:function(a){if(c.timepicker._curInst){a=c(a.target);a[0].id!=c.timepicker._mainDivId&&a.parents("#"+c.timepicker._mainDivId).length==0&&!a.hasClass(c.timepicker.markerClassName)&&!a.hasClass(c.timepicker._triggerClass)&&c.timepicker._timepickerShowing&&!(c.timepicker._inDialog&&
c.blockUI)&&c.timepicker._hideTimepicker()}},_hideTimepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=c.data(a,"timepicker")))if(this._timepickerShowing){a=this._get(b,"showAnim");var d=this._get(b,"duration"),e=function(){c.timepicker._tidyDialog(b);this._curInst=null};c.effects&&c.effects[a]?b.tpDiv.hide(a,c.timepicker._get(b,"showOptions"),d,e):b.tpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?d:null,e);a||e();this._timepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",
left:"0",top:"-100px"});if(c.blockUI){c.unblockUI();c("body").append(this.tpDiv)}}this._inDialog=false;if(a=this._get(b,"onClose"))a.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b])}},_tidyDialog:function(a){a.tpDiv.removeClass(this._dialogClass).unbind(".ui-timepicker")},_getInst:function(a){try{return c.data(a,"timepicker")}catch(b){throw"Missing instance data for this timepicker";}},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setTimeFromField:function(a){if(a.input.val()!=
a.lastVal){var b=this._get(a,"defaultTime");b=b=="now"?this._getCurrentTimeRounded(a):b;if(a.inline==false&&a.input.val()!="")b=a.input.val();if(b instanceof Date){a.hours=b.getHours();a.minutes=b.getMinutes()}else{var d=a.lastVal=b;if(b==""){a.hours=-1;a.minutes=-1}else{b=this.parseTime(a,d);a.hours=b.hours;a.minutes=b.minutes}}c.timepicker._updateTimepicker(a)}},_optionTimepicker:function(a,b,d){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?c.extend({},c.timepicker._defaults):
e?b=="all"?c.extend({},e.settings):this._get(e,b):null;var f=b||{};if(typeof b=="string"){f={};f[b]=d}if(e){this._curInst==e&&this._hideTimepicker();r(e.settings,f);this._updateTimepicker(e)}},_setTimeTimepicker:function(a,b){if(a=this._getInst(a)){this._setTime(a,b);this._updateTimepicker(a);this._updateAlternate(a,b)}},_setTime:function(a,b,d){var e=a.hours,f=a.minutes;b=this.parseTime(a,b);a.hours=b.hours;a.minutes=b.minutes;if((e!=a.hours||f!=a.minuts)&&!d)a.input.trigger("change");this._updateTimepicker(a);
this._updateSelectedValue(a)},_getCurrentTimeRounded:function(){var a=new Date,b=a.getMinutes();b=Math.round(b/5)*5;a.setMinutes(b);return a},parseTime:function(a,b){var d={};d.hours=-1;d.minutes=-1;var e=this._get(a,"timeSeparator"),f=this._get(a,"amPmText"),g=this._get(a,"showHours"),h=this._get(a,"showMinutes"),i=this._get(a,"optionalMinutes");a=this._get(a,"showPeriod")==true;e=b.indexOf(e);if(e!=-1){d.hours=parseInt(b.substr(0,e),10);d.minutes=parseInt(b.substr(e+1),10)}else if(g&&(!h||i))d.hours=
parseInt(b,10);else if(!g&&h)d.minutes=parseInt(b,10);if(g){b=b.toUpperCase();if(d.hours<12&&a&&b.indexOf(f[1].toUpperCase())!=-1)d.hours+=12;if(d.hours==12&&a&&b.indexOf(f[0].toUpperCase())!=-1)d.hours=0}return d},selectNow:function(a){a=c(a.target).attr("data-timepicker-instance-id");a=this._getInst(c(a)[0]);var b=new Date;a.hours=b.getHours();a.minutes=b.getMinutes();this._updateSelectedValue(a);this._updateTimepicker(a);this._hideTimepicker()},deselectTime:function(a){a=c(a.target).attr("data-timepicker-instance-id");
a=this._getInst(c(a)[0]);a.hours=-1;a.minutes=-1;this._updateSelectedValue(a);this._hideTimepicker()},selectHours:function(a){var b=c(a.currentTarget),d=b.attr("data-timepicker-instance-id"),e=parseInt(b.attr("data-hour"));a=a.data.fromDoubleClick;d=c(d);var f=this._getInst(d[0]),g=this._get(f,"showMinutes")==true;if(c.timepicker._isDisabledTimepicker(d.attr("id")))return false;b.parents(".ui-timepicker-hours:first").find("a").removeClass("ui-state-active");b.children("a").addClass("ui-state-active");
f.hours=e;this._get(f,"onMinuteShow")&&this._updateMinuteDisplay(f);this._updateSelectedValue(f);f._hoursClicked=true;if(f._minutesClicked||a||g==false)c.timepicker._hideTimepicker();return false},selectMinutes:function(a){var b=c(a.currentTarget),d=b.attr("data-timepicker-instance-id"),e=parseInt(b.attr("data-minute"));a=a.data.fromDoubleClick;d=c(d);var f=this._getInst(d[0]),g=this._get(f,"showHours")==true;if(c.timepicker._isDisabledTimepicker(d.attr("id")))return false;b.parents(".ui-timepicker-minutes:first").find("a").removeClass("ui-state-active");
b.children("a").addClass("ui-state-active");f.minutes=e;this._updateSelectedValue(f);f._minutesClicked=true;if(f._hoursClicked||a||g==false){c.timepicker._hideTimepicker();return false}return false},_updateSelectedValue:function(a){var b=this._getParsedTime(a);if(a.input){a.input.val(b);a.input.trigger("change")}var d=this._get(a,"onSelect");if(d)d.apply(a.input?a.input[0]:null,[b,a]);this._updateAlternate(a,b);return b},_getParsedTime:function(a){if(a.hours==-1&&a.minutes==-1)return"";if(a.hours<
a.hours.starts||a.hours>a.hours.ends)a.hours=0;if(a.minutes<a.minutes.starts||a.minutes>a.minutes.ends)a.minutes=0;var b="",d=this._get(a,"showPeriod")==true,e=this._get(a,"showLeadingZero")==true,f=this._get(a,"showHours")==true,g=this._get(a,"showMinutes")==true,h=this._get(a,"optionalMinutes")==true,i=this._get(a,"amPmText"),j=a.hours?a.hours:0,l=a.minutes?a.minutes:0,k=j?j:0;j="";if(d){if(a.hours==0)k=12;if(a.hours<12)b=i[0];else{b=i[1];if(k>12)k-=12}}d=k.toString();if(e&&k<10)d="0"+d;e=l.toString();
if(l<10)e="0"+e;if(f)j+=d;if(f&&g&&(!h||e!=0))j+=this._get(a,"timeSeparator");if(g&&(!h||e!=0))j+=e;if(f)if(b.length>0)j+=this._get(a,"periodSeparator")+b;return j},_updateAlternate:function(a,b){(a=this._get(a,"altField"))&&c(a).each(function(d,e){c(e).val(b)})},_getTimeTimepicker:function(a){return this._getParsedTime(this._getInst(a))},_getHourTimepicker:function(a){a=this._getInst(a);if(a==undefined)return-1;return a.hours},_getMinuteTimepicker:function(a){a=this._getInst(a);if(a==undefined)return-1;
return a.minutes}});c.fn.timepicker=function(a){if(!c.timepicker.initialized){c(document).mousedown(c.timepicker._checkExternalClick).find("body").append(c.timepicker.tpDiv);c.timepicker.initialized=true}var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="getTime"||a=="getHour"||a=="getMinute"))return c.timepicker["_"+a+"Timepicker"].apply(c.timepicker,[this[0]].concat(b));if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string")return c.timepicker["_"+a+"Timepicker"].apply(c.timepicker,
[this[0]].concat(b));return this.each(function(){typeof a=="string"?c.timepicker["_"+a+"Timepicker"].apply(c.timepicker,[this].concat(b)):c.timepicker._attachTimepicker(this,a)})};c.timepicker=new t;c.timepicker.initialized=false;c.timepicker.uuid=(new Date).getTime();c.timepicker.version="0.3.1";window["TP_jQuery_"+z]=c})(jQuery);
