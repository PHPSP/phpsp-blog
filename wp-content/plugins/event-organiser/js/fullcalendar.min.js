(function(n,ma){function Eb(a){n.extend(true,eb,a)}function ec(a,b,e){function d(i){if(D){u();p();ja();O(i)}else f()}function f(){C=b.theme?"ui":"fc";a.addClass("fc");b.isRTL?a.addClass("fc-rtl"):a.addClass("fc-ltr");b.theme&&a.addClass("ui-widget");D=n("<div class='fc-content' style='position:relative'/>").prependTo(a);z=new fc(S,b);(J=z.render())&&a.prepend(J);w(b.defaultView);n(window).resize(na);r()||h()}function h(){setTimeout(function(){!k.start&&r()&&O()},0)}function o(){n(window).unbind("resize",
na);z.destroy();D.remove();a.removeClass("fc fc-rtl ui-widget")}function m(){return j.offsetWidth!==0}function r(){return n("body")[0].offsetWidth!==0}function w(i){if(!k||i!=k.name){x++;qa();var A=k,T;if(A){(A.beforeHide||Fb)();Va(D,D.height());A.element.hide()}else Va(D,1);D.css("overflow","hidden");if(k=U[i])k.element.show();else k=U[i]=new Ra[i](T=l=n("<div class='fc-view fc-view-"+i+"' style='position:absolute'/>").appendTo(D),S);A&&z.deactivateButton(A.name);z.activateButton(i);O();D.css("overflow",
"");A&&Va(D,1);T||(k.afterShow||Fb)();x--}}function O(i){if(m()){x++;qa();Ca===ma&&u();var A=false;if(!k.start||i||L<k.start||L>=k.end){k.render(L,i||0);aa(true);A=true}else if(k.sizeDirty){k.clearEvents();aa();A=true}else if(k.eventsDirty){k.clearEvents();A=true}k.sizeDirty=false;k.eventsDirty=false;fa(A);V=a.outerWidth();z.updateTitle(k.title);i=new Date;i>=k.start&&i<k.end?z.disableButton("today"):z.enableButton("today");x--;k.trigger("viewDisplay",j)}}function M(){p();if(m()){u();aa();qa();k.clearEvents();
k.renderEvents(y);k.sizeDirty=false}}function p(){n.each(U,function(i,A){A.sizeDirty=true})}function u(){Ca=b.contentHeight?b.contentHeight:b.height?b.height-(J?J.height():0)-$a(D):Math.round(D.width()/Math.max(b.aspectRatio,0.5))}function aa(i){x++;k.setHeight(Ca,i);if(l){l.css("position","relative");l=null}k.setWidth(D.width(),i);x--}function na(){if(!x)if(k.start){var i=++q;setTimeout(function(){if(i==q&&!x&&m())if(V!=(V=a.outerWidth())){x++;M();k.trigger("windowResize",j);x--}},200)}else h()}
function fa(i){if(!b.lazyFetching||za(k.visStart,k.visEnd))oa();else i&&Y()}function oa(){N(k.visStart,k.visEnd,b)}function pa(i){y=i;Y()}function ga(i){Y(i)}function Y(i){ja();if(m()){k.clearEvents();k.renderEvents(y,i);k.eventsDirty=false}}function ja(){n.each(U,function(i,A){A.eventsDirty=true})}function va(i,A,T){k.select(i,A,T===ma?true:T)}function qa(){k&&k.unselect()}function R(){O(-1)}function ba(){O(1)}function ia(){mb(L,-1);O()}function ra(){mb(L,1);O()}function E(){L=new Date;O()}function Q(i,
A,T){if(i instanceof Date)L=I(i);else Gb(L,i,A,T);O()}function P(i,A,T){i!==ma&&mb(L,i);A!==ma&&nb(L,A);T!==ma&&X(L,T);O()}function c(){return I(L)}function s(){return k}function F(i,A){if(A===ma)return b[i];if(i=="height"||i=="contentHeight"||i=="aspectRatio"){b[i]=A;M()}else{b[i]=A;Y()}}function H(i,A){if(b[i])return b[i].apply(A||j,Array.prototype.slice.call(arguments,2))}var S=this;S.options=b;S.render=d;S.destroy=o;S.refetchEvents=oa;S.reportEvents=pa;S.reportEventChange=ga;S.rerenderEvents=
Y;S.changeView=w;S.select=va;S.unselect=qa;S.prev=R;S.next=ba;S.prevYear=ia;S.nextYear=ra;S.today=E;S.gotoDate=Q;S.incrementDate=P;S.formatDate=function(i,A){return Wa(i,A,b)};S.formatDates=function(i,A,T){return ob(i,A,T,b)};S.getDate=c;S.getView=s;S.option=F;S.trigger=H;gc.call(S,b,e);var za=S.isFetchNeeded,N=S.fetchEvents,j=a[0],z,J,D,C,k,U={},V,Ca,l,q=0,x=0,L=new Date,y=[],v;Gb(L,b.year,b.month,b.date);b.droppable&&n(document).bind("dragstart",function(i,A){var T=i.target,ca=n(T);if(!ca.parents(".fc").length){var ea=
b.dropAccept;if(n.isFunction(ea)?ea.call(T,ca):ca.is(ea)){v=T;k.dragStart(v,i,A)}}}).bind("dragstop",function(i,A){if(v){k.dragStop(v,i,A);v=null}})}function fc(a,b){function e(){p=b.theme?"ui":"fc";if(b.header)return M=n("<table class='fc-header' style='width:100%'/>").append(n("<tr/>").append(f("left")).append(f("center")).append(f("right")))}function d(){M.remove()}function f(u){var aa=n("<td class='fc-header-"+u+"'/>");(u=b.header[u])&&n.each(u.split(" "),function(na){na>0&&aa.append("<span class='fc-header-space'/>");
var fa;n.each(this.split(","),function(oa,pa){if(pa=="title"){aa.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");fa&&fa.addClass(p+"-corner-right");fa=null}else if(n.isFunction(b.customButtons[pa])){oa=b.customButtons[pa](b);aa.append(oa)}else{var ga;if(a[pa])ga=a[pa];else if(Ra[pa])ga=function(){ja.removeClass(p+"-state-hover");a.changeView(pa)};if(ga){oa=b.theme?pb(b.buttonIcons,pa):null;var Y=pb(b.buttonText,pa);if(b.buttonui){var ja=n("<span class='fc-button fc-button-"+pa+" "+
p+"-state-default'>"+Y+"</span>");ja.button()}else ja=n("<span class='fc-button fc-button-"+pa+" "+p+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(oa?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+oa+"'/></span>":Y)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(ja){ja.click(function(){ja.hasClass(p+"-state-disabled")||ga()}).mousedown(function(){ja.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},
function(){ja.removeClass(p+"-state-hover").removeClass(p+"-state-down")}).appendTo(aa);fb(ja);fa||ja.addClass(p+"-corner-left");fa=ja}}}});fa&&fa.addClass(p+"-corner-right")});return aa}function h(u){M.find("h2").html(u)}function o(u){M.find("span.fc-button-"+u).addClass(p+"-state-active")}function m(u){M.find("span.fc-button-"+u).removeClass(p+"-state-active")}function r(u){M.find("span.fc-button-"+u).addClass(p+"-state-disabled")}function w(u){M.find("span.fc-button-"+u).removeClass(p+"-state-disabled")}
var O=this;O.render=e;O.destroy=d;O.updateTitle=h;O.activateButton=o;O.deactivateButton=m;O.disableButton=r;O.enableButton=w;var M=n([]),p}function gc(a,b){function e(c,s){return!ba||c<ba||s>ia}function d(c,s,F){ba=c;ia=s;P=[];c=++ra;E=s=R.length;for(var H=0;H<s;H++)f(R[H],c,F)}function f(c,s,F){h(c,function(H){if(s==ra){if(H){if(F.eventDataTransform)H=n.map(H,F.eventDataTransform);if(c.eventDataTransform)H=n.map(H,c.eventDataTransform);for(var S=0;S<H.length;S++){H[S].source=c;na(H[S])}P=P.concat(H)}E--;
E||va(P)}},F)}function h(c,s){var F,H=Ia.sourceFetchers,S;for(F=0;F<H.length;F++){S=H[F](c,ba,ia,s);if(S===true)return;else if(typeof S=="object"){h(S,s,a);return}}if(F=c.events)if(n.isFunction(F)){u();F(I(ba),I(ia),function(z){s(z);aa()},a)}else n.isArray(F)?s(F):s();else if(c.url){var za=c.success,N=c.error,j=c.complete;F=n.extend({},c.data||{});H=ab(c.startParam,a.startParam);S=ab(c.endParam,a.endParam);if(H)F[H]=Math.round(+ba/1E3);if(S)F[S]=Math.round(+ia/1E3);u();n.ajax(n.extend({},hc,c,{data:F,
success:function(z){z=z||[];var J=gb(za,this,arguments);if(n.isArray(J))z=J;s(z)},error:function(){gb(N,this,arguments);s()},complete:function(){gb(j,this,arguments);aa()}}))}else s()}function o(c){if(c=m(c)){E++;f(c,ra)}}function m(c){if(n.isFunction(c)||n.isArray(c))c={events:c};else if(typeof c=="string")c={url:c};if(typeof c=="object"){fa(c);R.push(c);return c}}function r(c){R=n.grep(R,function(s){return!oa(s,c)});P=n.grep(P,function(s){return!oa(s.source,c)});va(P)}function w(c){var s,F=P.length,
H,S=ja().defaultEventEnd,za=c.start-c._start,N=c.end?c.end-(c._end||S(c)):0;for(s=0;s<F;s++){H=P[s];if(H._id==c._id&&H!=c){H.start=new Date(+H.start+za);H.end=c.end?H.end?new Date(+H.end+N):new Date(+S(H)+N):null;H.title=c.title;H.url=c.url;H.allDay=c.allDay;H.className=c.className;H.editable=c.editable;H.color=c.color;H.backgroundColor=c.backgroundColor;H.borderColor=c.borderColor;H.textColor=c.textColor;na(H)}}na(c);va(P)}function O(c,s){na(c);if(!c.source){if(s){qa.events.push(c);c.source=qa}P.push(c)}va(P)}
function M(c){if(c){if(!n.isFunction(c)){var s=c+"";c=function(H){return H._id==s}}P=n.grep(P,c,true);for(F=0;F<R.length;F++)if(n.isArray(R[F].events))R[F].events=n.grep(R[F].events,c,true)}else{P=[];for(var F=0;F<R.length;F++)if(n.isArray(R[F].events))R[F].events=[]}va(P)}function p(c){if(n.isFunction(c))return n.grep(P,c);else if(c){c+="";return n.grep(P,function(s){return s._id==c})}return P}function u(){Q++||Y("loading",null,true)}function aa(){--Q||Y("loading",null,false)}function na(c){var s=
c.source||{},F=ab(s.ignoreTimezone,a.ignoreTimezone);c._id=c._id||(c.id===ma?"_fc"+ic++:c.id+"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=I(c.start=qb(c.start,F));c.end=qb(c.end,F);if(c.end&&c.end<=c.start)c.end=null;c._end=c.end?I(c.end):null;if(c.allDay===ma)c.allDay=ab(s.allDayDefault,a.allDayDefault);if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}function fa(c){if(c.className){if(typeof c.className=="string")c.className=
c.className.split(/\s+/)}else c.className=[];for(var s=Ia.sourceNormalizers,F=0;F<s.length;F++)s[F](c)}function oa(c,s){return c&&s&&pa(c)==pa(s)}function pa(c){return(typeof c=="object"?c.events||c.url:"")||c}var ga=this;ga.isFetchNeeded=e;ga.fetchEvents=d;ga.addEventSource=o;ga.removeEventSource=r;ga.updateEvent=w;ga.renderEvent=O;ga.removeEvents=M;ga.clientEvents=p;ga.normalizeEvent=na;var Y=ga.trigger,ja=ga.getView,va=ga.reportEvents,qa={events:[]},R=[qa],ba,ia,ra=0,E=0,Q=0,P=[];for(ga=0;ga<b.length;ga++)m(b[ga])}
function mb(a,b,e){a.setFullYear(a.getFullYear()+b);e||Sa(a);return a}function nb(a,b,e){if(+a){b=a.getMonth()+b;var d=I(a);d.setDate(1);d.setMonth(b);a.setMonth(b);for(e||Sa(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function X(a,b,e){if(+a){b=a.getDate()+b;var d=I(a);d.setHours(9);d.setDate(b);a.setDate(b);e||Sa(a);rb(a,d)}return a}function rb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*jc)}function Ba(a,b){a.setMinutes(a.getMinutes()+b);return a}
function Sa(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function I(a,b){if(b)return Sa(new Date(+a));return new Date(+a)}function Hb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Oa(a,b,e){for(b=b||1;!a.getDay()||e&&a.getDay()==1||!e&&a.getDay()==6;)X(a,b);return a}function Ka(a,b){return Math.round((I(a,true)-I(b,true))/Ib)}function Gb(a,b,e,d){if(b!==ma&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(e!==ma&&e!=
a.getMonth()){a.setDate(1);a.setMonth(e)}d!==ma&&a.setDate(d)}function qb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(b===ma)b=true;return sb(a,b)||(a?new Date(a):null)}return null}function sb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var e=new Date(a[1],
0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){e.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){e.setDate(a[5]);b.setDate(a[5])}rb(e,b);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+a[12])*1E3);rb(e,b)}else{e.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);e.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;e=new Date(+e+b*60*1E3)}}return e}function tb(a){if(typeof a==
"number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function Wa(a,b,e){return ob(a,null,b,e)}function ob(a,b,e,d){d=d||eb;var f=a,h=b,o,m=e.length,r,w,O,M="";for(o=0;o<m;o++){r=e.charAt(o);if(r=="'")for(w=o+1;w<m;w++){if(e.charAt(w)=="'"){if(f){M+=w==o+1?"'":e.substring(o+1,w);o=w}break}}else if(r=="(")for(w=
o+1;w<m;w++){if(e.charAt(w)==")"){o=Wa(f,e.substring(o+1,w),d);if(parseInt(o.replace(/\D/,""),10))M+=o;o=w;break}}else if(r=="[")for(w=o+1;w<m;w++){if(e.charAt(w)=="]"){r=e.substring(o+1,w);o=Wa(f,r,d);if(o!=Wa(h,r,d))M+=o;o=w;break}}else if(r=="{"){f=b;h=a}else if(r=="}"){f=a;h=b}else{for(w=m;w>o;w--)if(O=Jb[e.substring(o,w)]){if(f)M+=O(f,d);o=w-1;break}if(w==o)if(f)M+=r}}return M}function kc(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);
return Math.floor(Math.round((a-b)/864E5)/7)+1}function bb(a){return a.end?lc(a.end,a.allDay):X(I(a.start),1)}function lc(a,b){a=I(a);return b||a.getHours()||a.getMinutes()?X(a,1):Sa(a)}function mc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Kb(a,b){return a.end>b.start&&a.start<b.end}function ub(a,b,e,d){var f=[],h,o=a.length,m,r,w,O,M;for(h=0;h<o;h++){m=a[h];r=m.start;w=b[h];if(w>e&&r<d){if(r<e){r=I(e);O=false}else{r=r;O=true}if(w>d){w=I(d);M=false}else{w=w;M=true}f.push({event:m,
start:r,end:w,isStart:O,isEnd:M,msLength:w-r})}}return f.sort(mc)}function vb(a){var b=[],e,d=a.length,f,h,o,m;for(e=0;e<d;e++){f=a[e];for(h=0;;){o=false;if(b[h])for(m=0;m<b[h].length;m++)if(Kb(b[h][m],f)){o=true;break}if(o)h++;else break}if(b[h])b[h].push(f);else b[h]=[f]}return b}function Lb(a,b,e){a.unbind("mouseover").mouseover(function(d){for(var f=d.target,h;f!=this;){h=f;f=f.parentNode}if((f=h._fci)!==ma){h._fci=ma;h=b[f];e(h.event,h.element,h);n(d.target).trigger(d)}d.stopPropagation()})}
function cb(a,b,e){for(var d=0,f;d<a.length;d++){f=n(a[d]);f.width(Math.max(0,b-wb(f,e)))}}function Mb(a,b,e){for(var d=0,f;d<a.length;d++){f=n(a[d]);f.height(Math.max(0,b-$a(f,e)))}}function wb(a,b){return nc(a)+oc(a)+(b?pc(a):0)}function nc(a){return(parseFloat(n.css(a[0],"paddingLeft",true))||0)+(parseFloat(n.css(a[0],"paddingRight",true))||0)}function pc(a){return(parseFloat(n.css(a[0],"marginLeft",true))||0)+(parseFloat(n.css(a[0],"marginRight",true))||0)}function oc(a){return(parseFloat(n.css(a[0],
"borderLeftWidth",true))||0)+(parseFloat(n.css(a[0],"borderRightWidth",true))||0)}function $a(a,b){return qc(a)+rc(a)+(b?Nb(a):0)}function qc(a){return(parseFloat(n.css(a[0],"paddingTop",true))||0)+(parseFloat(n.css(a[0],"paddingBottom",true))||0)}function Nb(a){return(parseFloat(n.css(a[0],"marginTop",true))||0)+(parseFloat(n.css(a[0],"marginBottom",true))||0)}function rc(a){return(parseFloat(n.css(a[0],"borderTopWidth",true))||0)+(parseFloat(n.css(a[0],"borderBottomWidth",true))||0)}function Va(a,
b){b=typeof b=="number"?b+"px":b;a.each(function(e,d){d.style.cssText+=";min-height:"+b+";_height:"+b})}function Fb(){}function Ob(a,b){return a-b}function Pb(a){return Math.max.apply(Math,a)}function Xa(a){return(a<10?"0":"")+a}function pb(a,b){if(a[b]!==ma)return a[b];b=b.split(/(?=[A-Z])/);for(var e=b.length-1,d;e>=0;e--){d=a[b[e].toLowerCase()];if(d!==ma)return d}return a[""]}function Ya(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,
"&quot;").replace(/\n/g,"<br />")}function Qb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function fb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function hb(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function sc(a,b){a.each(function(e,d){d.className=d.className.replace(/^fc-\w*/,
"fc-"+xb[b.getDay()])})}function Rb(a,b){var e=a.source||{},d=a.color,f=e.color,h=b("eventColor"),o=a.backgroundColor||d||e.backgroundColor||f||b("eventBackgroundColor")||h;d=a.borderColor||d||e.borderColor||f||b("eventBorderColor")||h;a=a.textColor||e.textColor||b("eventTextColor");b=[];o&&b.push("background-color:"+o);d&&b.push("border-color:"+d);a&&b.push("color:"+a);return b.join(";")}function gb(a,b,e){if(n.isFunction(a))a=[a];if(a){var d,f;for(d=0;d<a.length;d++)f=a[d].apply(b,e)||f;return f}}
function ab(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==ma)return arguments[a]}function tc(a,b){function e(m,r){if(r){nb(m,r);m.setDate(1)}m=I(m,true);m.setDate(1);r=nb(I(m),1);var w=I(m),O=I(r),M=f("firstDay"),p=f("weekends")?0:1;if(p){Oa(w);Oa(O,-1,true)}X(w,-((w.getDay()-Math.max(M,p)+7)%7));X(O,(7-O.getDay()+Math.max(M,p))%7);M=Math.round((O-w)/(Ib*7));if(f("weekMode")=="fixed"){X(O,(6-M)*7);M=6}d.title=o(m,f("titleFormat"));d.start=m;d.end=r;d.visStart=w;d.visEnd=O;h(M,p?5:7,true)}
var d=this;d.render=e;yb.call(d,a,b,"month");var f=d.opt,h=d.renderBasic,o=b.formatDate}function uc(a,b){function e(m,r){r&&X(m,r*7);m=X(I(m),-((m.getDay()-f("firstDay")+7)%7));r=X(I(m),7);var w=I(m),O=I(r),M=f("weekends");if(!M){Oa(w);Oa(O,-1,true)}d.title=o(w,X(I(O),-1),f("titleFormat"));d.start=m;d.end=r;d.visStart=w;d.visEnd=O;h(1,M?7:5,false)}var d=this;d.render=e;yb.call(d,a,b,"basicWeek");var f=d.opt,h=d.renderBasic,o=b.formatDates}function vc(a,b){function e(m,r){if(r){X(m,r);f("weekends")||
Oa(m,r<0?-1:1)}d.title=o(m,f("titleFormat"));d.start=d.visStart=I(m,true);d.end=d.visEnd=X(I(d.start),1);h(1,1,false)}var d=this;d.render=e;yb.call(d,a,b,"basicDay");var f=d.opt,h=d.renderBasic,o=b.formatDate}function yb(a,b,e){function d(G,Z,W){v=G;i=Z;f();!C?h():H();o(W)}function f(){if(ea=s("isRTL")){ka=-1;ha=i-1}else{ka=1;ha=0}$=s("firstDay");sa=s("weekends")?0:1;ua=s("theme")?"ui":"fc";la=s("columnFormat");ya=s("weekNumbers");wa=s("weekNumberTitle");Fa=s("weekNumberCalculation")!="iso"?"w":"W"}
function h(){l=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function o(G){var Z="",W,da;da=ua+"-widget-header";var xa=ua+"-widget-content",Aa=c.start.getMonth(),Ja=Sa(new Date),Da,Na;Z+="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";if(ya)Z+="<th class='fc-week-number "+da+"'/>";for(W=0;W<i;W++){Da=R(0,W);Z+="<th class='fc-day-header fc-"+xb[Da.getDay()]+" "+da+"'/>"}Z+="</tr></thead><tbody>";for(W=0;W<v;W++){Z+="<tr class='fc-week'>";
if(ya)Z+="<td class='fc-week-number "+xa+"'><div/></td>";for(da=0;da<i;da++){Da=R(W,da);Na=["fc-day","fc-"+xb[Da.getDay()],xa];Da.getMonth()!=Aa&&Na.push("fc-other-month");if(+Da==+Ja){Na.push("fc-today");Na.push(ua+"-state-highlight")}Z+="<td class='"+Na.join(" ")+"' data-date='"+j(Da,"yyyy-MM-dd")+"'><div>";if(G)Z+="<div class='fc-day-number'>"+Da.getDate()+"</div>";Z+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}Z+="</tr>"}Z+="</tbody></table>";Q();
z&&z.remove();z=n(Z).appendTo(a);J=z.find("thead");D=J.find(".fc-day-header");C=z.find("tbody");k=C.find("tr");U=C.find(".fc-day");V=k.find("td:first-child");Ca=k.eq(0).find(".fc-day-content > div");hb(J.add(J.find("tr")));hb(k);k.eq(0).addClass("fc-first");k.filter(":last").addClass("fc-last");ya&&J.find(".fc-week-number").text(wa);D.each(function(Ga,Ea){Ga=ba(Ga);n(Ea).text(j(Ga,la))});ya&&C.find(".fc-week-number > div").each(function(Ga,Ea){Ga=R(Ga,0);n(Ea).text(j(Ga,Fa))});U.each(function(Ga,
Ea){Ga=ba(Ga);F("dayRender",c,Ga,n(Ea))});w(U)}function m(G){x=G;G=x-J.height();var Z,W,da;if(s("weekMode")=="variable")Z=W=Math.floor(G/(v==1?2:6));else{Z=Math.floor(G/v);W=G-Z*(v-1)}V.each(function(xa,Aa){if(xa<v){da=n(Aa);Va(da.find("> div"),(xa==v-1?W:Z)-$a(da))}});P()}function r(G){q=G;ca.clear();y=0;if(ya)y=J.find("th.fc-week-number").outerWidth();L=Math.floor((q-y)/i);cb(D.slice(0,-1),L)}function w(G){G.click(O).mousedown(N)}function O(G){if(!s("selectable")){var Z=sb(n(this).data("date"));
F("dayClick",this,Z,true,G)}}function M(G,Z,W){W&&A.build();W=I(c.visStart);for(var da=X(I(W),i),xa=0;xa<v;xa++){var Aa=new Date(Math.max(W,G)),Ja=new Date(Math.min(da,Z));if(Aa<Ja){var Da;if(ea){Da=Ka(Ja,W)*ka+ha+1;Aa=Ka(Aa,W)*ka+ha+1}else{Da=Ka(Aa,W);Aa=Ka(Ja,W)}w(p(xa,Da,xa,Aa-1))}X(W,7);X(da,7)}}function p(G,Z,W,da){G=A.rect(G,Z,W,da,a);return S(G,a)}function u(G){return I(G)}function aa(G,Z){M(G,X(I(Z),1),true)}function na(){za()}function fa(G,Z,W){var da=va(G);F("dayClick",U[da.row*i+da.col],
G,Z,W)}function oa(G,Z){T.start(function(W){za();W&&p(W.row,W.col,W.row,W.col)},Z)}function pa(G,Z,W){var da=T.stop();za();if(da){da=qa(da);F("drop",G,da,true,Z,W)}}function ga(G){return I(G.start)}function Y(G){return ca.left(G)}function ja(G){return ca.right(G)}function va(G){return{row:Math.floor(Ka(G,c.visStart)/7),col:ia(G.getDay())}}function qa(G){return R(G.row,G.col)}function R(G,Z){return X(I(c.visStart),G*7+Z*ka+ha)}function ba(G){return R(Math.floor(G/i),G%i)}function ia(G){return(G-Math.max($,
sa)+i)%i*ka+ha}function ra(G){return k.eq(G)}function E(){var G=0;if(ya)G+=y;return{left:G,right:q}}function Q(){Va(a,a.height())}function P(){Va(a,1)}var c=this;c.renderBasic=d;c.setHeight=m;c.setWidth=r;c.renderDayOverlay=M;c.defaultSelectionEnd=u;c.renderSelection=aa;c.clearSelection=na;c.reportDayClick=fa;c.dragStart=oa;c.dragStop=pa;c.defaultEventEnd=ga;c.getHoverListener=function(){return T};c.colContentLeft=Y;c.colContentRight=ja;c.dayOfWeekCol=ia;c.dateCell=va;c.cellDate=qa;c.cellIsAllDay=
function(){return true};c.allDayRow=ra;c.allDayBounds=E;c.getRowCnt=function(){return v};c.getColCnt=function(){return i};c.getColWidth=function(){return L};c.getDaySegmentContainer=function(){return l};Sb.call(c,a,b,e);Tb.call(c);Ub.call(c);wc.call(c);var s=c.opt,F=c.trigger,H=c.clearEvents,S=c.renderOverlay,za=c.clearOverlays,N=c.daySelectionMousedown,j=b.formatDate,z,J,D,C,k,U,V,Ca,l,q,x,L,y,v,i,A,T,ca,ea,ka,ha,$,sa,ua,la,ya,wa,Fa;fb(a.addClass("fc-grid"));A=new Vb(function(G,Z){var W,da,xa;D.each(function(Aa,
Ja){W=n(Ja);da=W.offset().left;if(Aa)xa[1]=da;xa=[da];Z[Aa]=xa});xa[1]=da+W.outerWidth();k.each(function(Aa,Ja){if(Aa<v){W=n(Ja);da=W.offset().top;if(Aa)xa[1]=da;xa=[da];G[Aa]=xa}});xa[1]=da+W.outerHeight()});T=new Wb(A);ca=new Xb(function(G){return Ca.eq(G)})}function wc(){function a(R,ba){O(R);va(e(R),ba);m("eventAfterAllRender")}function b(){M();fa().empty()}function e(R){var ba=Y(),ia=ja(),ra=I(h.visStart);ia=X(I(ra),ia);var E=n.map(R,bb),Q,P,c,s,F,H,S=[];for(Q=0;Q<ba;Q++){P=vb(ub(R,E,ra,ia));
for(c=0;c<P.length;c++){s=P[c];for(F=0;F<s.length;F++){H=s[F];H.row=Q;H.level=c;S.push(H)}}X(ra,7);X(ia,7)}return S}function d(R,ba,ia){r(R)&&f(R,ba);ia.isEnd&&w(R)&&qa(R,ba,ia);p(R,ba)}function f(R,ba){var ia=oa(),ra;ba.draggable({zIndex:9,delay:50,opacity:o("dragOpacity"),revertDuration:o("dragRevertDuration"),start:function(E,Q){m("eventDragStart",ba,R,E,Q);aa(R,ba);ia.start(function(P,c,s,F){ba.draggable("option","revert",!P||!s&&!F);ga();if(P){ra=s*7+F*(o("isRTL")?-1:1);pa(X(I(R.start),ra),X(bb(R),
ra))}else ra=0},E,"drag")},stop:function(E,Q){ia.stop();ga();m("eventDragStop",ba,R,E,Q);if(ra)na(this,R,ra,0,R.allDay,E,Q);else{ba.css("filter","");u(R,ba)}}})}var h=this;h.renderEvents=a;h.compileDaySegs=e;h.clearEvents=b;h.bindDaySeg=d;Yb.call(h);var o=h.opt,m=h.trigger,r=h.isEventDraggable,w=h.isEventResizable,O=h.reportEvents,M=h.reportEventClear,p=h.eventElementHandlers,u=h.showEvents,aa=h.hideEvents,na=h.eventDrop,fa=h.getDaySegmentContainer,oa=h.getHoverListener,pa=h.renderDayOverlay,ga=h.clearOverlays,
Y=h.getRowCnt,ja=h.getColCnt,va=h.renderDaySegs,qa=h.resizableDayEvent}function xc(a,b){function e(m,r){r&&X(m,r*7);m=X(I(m),-((m.getDay()-f("firstDay")+7)%7));r=X(I(m),7);var w=I(m),O=I(r),M=f("weekends");if(!M){Oa(w);Oa(O,-1,true)}d.title=o(w,X(I(O),-1),f("titleFormat"));d.start=m;d.end=r;d.visStart=w;d.visEnd=O;h(M?7:5)}var d=this;d.render=e;Zb.call(d,a,b,"agendaWeek");var f=d.opt,h=d.renderAgenda,o=b.formatDates}function yc(a,b){function e(m,r){if(r){X(m,r);f("weekends")||Oa(m,r<0?-1:1)}r=I(m,
true);var w=X(I(r),1);d.title=o(m,f("titleFormat"));d.start=d.visStart=r;d.end=d.visEnd=w;h(1)}var d=this;d.render=e;Zb.call(d,a,b,"agendaDay");var f=d.opt,h=d.renderAgenda,o=b.formatDate}function Zb(a,b,e){function d(g){Ea=g;f();q?J():h();o()}function f(){db=j("theme")?"ui":"fc";$b=j("weekends")?0:1;ac=j("firstDay");if(zb=j("isRTL")){Pa=-1;Qa=Ea-1}else{Pa=1;Qa=0}Ta=tb(j("minTime"));ib=tb(j("maxTime"));bc=j("columnFormat");Ab=j("weekNumbers");Bb=j("weekNumberTitle");cc=j("weekNumberCalculation")!=
"iso"?"w":"W";Da=j("snapMinutes")||j("slotMinutes")}function h(){var g=db+"-widget-header",K=db+"-widget-content",t,B,ta,Ha,La,Ma=j("slotMinutes")%15==0;t="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr>";t+=Ab?"<th class='fc-agenda-axis fc-week-number "+g+"'/>":"<th class='fc-agenda-axis "+g+"'>&nbsp;</th>";for(B=0;B<Ea;B++)t+="<th class='fc- fc-col"+B+" "+g+"'/>";t+="<th class='fc-agenda-gutter "+g+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+
g+"'>&nbsp;</th>";for(B=0;B<Ea;B++)t+="<td class='fc- fc-col"+B+" "+K+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";t+="<td class='fc-agenda-gutter "+K+"'>&nbsp;</td></tr></tbody></table>";q=n(t).appendTo(a);x=q.find("thead");L=x.find("th").slice(1,-1);y=q.find("tbody");v=y.find("td").slice(0,-1);i=v.find("div.fc-day-content div");A=v.eq(0);T=A.find("> div");hb(x.add(x.find("tr")));hb(y.add(y.find("tr")));wa=x.find("th:first");Fa=q.find(".fc-agenda-gutter");
ca=n("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(j("allDaySlot")){ea=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ca);t="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+g+" fc-agenda-axis'>"+j("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+g+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ka=n(t).appendTo(ca);ha=ka.find("tr");p(ha.find("td"));wa=
wa.add(ka.find("th:first"));Fa=Fa.add(ka.find("th.fc-agenda-gutter"));ca.append("<div class='fc-agenda-divider "+g+"'><div class='fc-agenda-divider-inner'/></div>")}else ea=n([]);$=n("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ca);sa=n("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo($);ua=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(sa);t="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";
ta=Hb();Ha=Ba(I(ta),ib);Ba(ta,Ta);for(B=Cb=0;ta<Ha;B++){La=ta.getMinutes();t+="<tr class='fc-slot"+B+" "+(!La?"":"fc-minor")+"'><th class='fc-agenda-axis "+g+"'>"+(!Ma||!La?l(ta,j("axisFormat")):"&nbsp;")+"</th><td class='"+K+"'><div style='position:relative'>&nbsp;</div></td></tr>";Ba(ta,j("slotMinutes"));Cb++}t+="</tbody></table>";la=n(t).appendTo(sa);ya=la.find("div:first");u(la.find("td"));wa=wa.add(la.find("th:first"))}function o(){var g,K,t,B,ta=Sa(new Date);if(Ab){g=l(va(0),cc);if(zb)g+=Bb;
else g=Bb+g;x.find(".fc-week-number").text(g)}for(g=0;g<Ea;g++){B=va(g);K=L.eq(g);K.html(l(B,bc));t=v.eq(g);+B==+ta?t.addClass(db+"-state-highlight fc-today"):t.removeClass(db+"-state-highlight fc-today");sc(K.add(t),B)}}function m(g,K){if(g===ma)g=W;W=g;Db={};var t=y.position().top,B=$.position().top;g=Math.min(g-t,la.height()+B+1);T.height(g-$a(A));ca.css("top",t);$.height(g-B-1);Ja=ya.height()+1;Na=j("slotMinutes")/Da;Ga=Ja/Na;K&&w()}function r(g){Z=g;jb.clear();da=0;cb(wa.width("").each(function(K,
t){da=Math.max(da,n(t).outerWidth())}),da);g=$[0].clientWidth;if(Aa=$.width()-g){cb(Fa,Aa);Fa.show().prev().removeClass("fc-last")}else Fa.hide().prev().addClass("fc-last");xa=Math.floor((g-da)/Ea);cb(L.slice(0,-1),xa)}function w(){function g(){$.scrollTop(B)}var K=Hb(),t=I(K);t.setHours(j("firstHour"));var B=ba(K,t)+1;g();setTimeout(g,0)}function O(){dc=$.scrollTop()}function M(){$.scrollTop(dc)}function p(g){g.click(aa).mousedown(V)}function u(g){g.click(aa).mousedown(F)}function aa(g){if(!j("selectable")){var K=
Math.min(Ea-1,Math.floor((g.pageX-q.offset().left-da)/xa)),t=va(K),B=this.parentNode.className.match(/fc-slot(\d+)/);if(B){B=parseInt(B[1])*j("slotMinutes");var ta=Math.floor(B/60);t.setHours(ta);t.setMinutes(B%60+Ta);z("dayClick",v[K],t,false,g)}else z("dayClick",v[K],t,true,g)}}function na(g,K,t){t&&Ua.build();var B=I(N.visStart);if(zb){t=Ka(K,B)*Pa+Qa+1;g=Ka(g,B)*Pa+Qa+1}else{t=Ka(g,B);g=Ka(K,B)}t=Math.max(0,t);g=Math.min(Ea,g);t<g&&p(fa(0,t,0,g-1))}function fa(g,K,t,B){g=Ua.rect(g,K,t,B,ca);return D(g,
ca)}function oa(g,K){for(var t=I(N.visStart),B=X(I(t),1),ta=0;ta<Ea;ta++){var Ha=new Date(Math.max(t,g)),La=new Date(Math.min(B,K));if(Ha<La){var Ma=ta*Pa+Qa;Ma=Ua.rect(0,Ma,0,Ma,sa);Ha=ba(t,Ha);La=ba(t,La);Ma.top=Ha;Ma.height=La-Ha;u(D(Ma,sa))}X(t,1);X(B,1)}}function pa(g){return jb.left(g)}function ga(g){return jb.right(g)}function Y(g){return{row:Math.floor(Ka(g,N.visStart)/7),col:R(g.getDay())}}function ja(g){var K=va(g.col);g=g.row;j("allDaySlot")&&g--;g>=0&&Ba(K,Ta+g*Da);return K}function va(g){return X(I(N.visStart),
g*Pa+Qa)}function qa(g){return j("allDaySlot")&&!g.row}function R(g){return(g-Math.max(ac,$b)+Ea)%Ea*Pa+Qa}function ba(g,K){g=I(g,true);if(K<Ba(I(g),Ta))return 0;if(K>=Ba(I(g),ib))return la.height();g=j("slotMinutes");K=K.getHours()*60+K.getMinutes()-Ta;var t=Math.floor(K/g),B=Db[t];if(B===ma)B=Db[t]=la.find("tr:eq("+t+") td div")[0].offsetTop;return Math.max(0,Math.round(B-1+Ja*(K%g/g)))}function ia(){return{left:da,right:Z-Aa}}function ra(){return ha}function E(g){var K=I(g.start);if(g.allDay)return K;
return Ba(K,j("defaultEventMinutes"))}function Q(g,K){if(K)return I(g);return Ba(I(g),j("slotMinutes"))}function P(g,K,t){if(t)j("allDaySlot")&&na(g,X(I(K),1),true);else c(g,K)}function c(g,K){var t=j("selectHelper");Ua.build();if(t){var B=Ka(g,N.visStart)*Pa+Qa;if(B>=0&&B<Ea){B=Ua.rect(0,B,0,B,sa);var ta=ba(g,g),Ha=ba(g,K);if(Ha>ta){B.top=ta;B.height=Ha-ta;B.left+=2;B.width-=5;if(n.isFunction(t)){if(g=t(g,K)){B.position="absolute";B.zIndex=8;G=n(g).css(B).appendTo(sa)}}else{B.isStart=true;B.isEnd=
true;G=n(Ca({title:"",start:g,end:K,className:["fc-select-helper"],editable:false},B));G.css("opacity",j("dragOpacity"))}if(G){u(G);sa.append(G);cb(G,B.width,true);Mb(G,B.height,true)}}}}else oa(g,K)}function s(){C();if(G){G.remove();G=null}}function F(g){if(g.which==1&&j("selectable")){U(g);var K;Za.start(function(t,B){s();if(t&&t.col==B.col&&!qa(t)){B=ja(B);t=ja(t);K=[B,Ba(I(B),Da),t,Ba(I(t),Da)].sort(Ob);c(K[0],K[3])}else K=null},g);n(document).one("mouseup",function(t){Za.stop();if(K){+K[0]==
+K[1]&&H(K[0],false,t);k(K[0],K[3],false,t)}})}}function H(g,K,t){z("dayClick",v[R(g.getDay())],g,K,t)}function S(g,K){Za.start(function(t){C();if(t)if(qa(t))fa(t.row,t.col,t.row,t.col);else{t=ja(t);var B=Ba(I(t),j("defaultEventMinutes"));oa(t,B)}},K)}function za(g,K,t){var B=Za.stop();C();B&&z("drop",g,ja(B),qa(B),K,t)}var N=this;N.renderAgenda=d;N.setWidth=r;N.setHeight=m;N.beforeHide=O;N.afterShow=M;N.defaultEventEnd=E;N.timePosition=ba;N.dayOfWeekCol=R;N.dateCell=Y;N.cellDate=ja;N.cellIsAllDay=
qa;N.allDayRow=ra;N.allDayBounds=ia;N.getHoverListener=function(){return Za};N.colContentLeft=pa;N.colContentRight=ga;N.getDaySegmentContainer=function(){return ea};N.getSlotSegmentContainer=function(){return ua};N.getMinMinute=function(){return Ta};N.getMaxMinute=function(){return ib};N.getBodyContent=function(){return sa};N.getRowCnt=function(){return 1};N.getColCnt=function(){return Ea};N.getColWidth=function(){return xa};N.getSnapHeight=function(){return Ga};N.getSnapMinutes=function(){return Da};
N.defaultSelectionEnd=Q;N.renderDayOverlay=na;N.renderSelection=P;N.clearSelection=s;N.reportDayClick=H;N.dragStart=S;N.dragStop=za;Sb.call(N,a,b,e);Tb.call(N);Ub.call(N);zc.call(N);var j=N.opt,z=N.trigger,J=N.clearEvents,D=N.renderOverlay,C=N.clearOverlays,k=N.reportSelection,U=N.unselect,V=N.daySelectionMousedown,Ca=N.slotSegHtml,l=b.formatDate,q,x,L,y,v,i,A,T,ca,ea,ka,ha,$,sa,ua,la,ya,wa,Fa,G,Z,W,da,xa,Aa,Ja,Da,Na,Ga,Ea,Cb,Ua,Za,jb,Db={},dc,db,ac,$b,zb,Pa,Qa,Ta,ib,bc,Ab,Bb,cc;fb(a.addClass("fc-agenda"));
Ua=new Vb(function(g,K){function t(kb){return Math.max(Ma,Math.min(Ac,kb))}var B,ta,Ha;L.each(function(kb,Bc){B=n(Bc);ta=B.offset().left;if(kb)Ha[1]=ta;Ha=[ta];K[kb]=Ha});Ha[1]=ta+B.outerWidth();if(j("allDaySlot")){B=ha;ta=B.offset().top;g[0]=[ta,ta+B.outerHeight()]}for(var La=sa.offset().top,Ma=$.offset().top,Ac=Ma+$.outerHeight(),lb=0;lb<Cb*Na;lb++)g.push([t(La+Ga*lb),t(La+Ga*(lb+1))])});Za=new Wb(Ua);jb=new Xb(function(g){return i.eq(g)})}function zc(){function a(l,q){pa(l);var x,L=l.length,y=
[],v=[];for(x=0;x<L;x++)l[x].allDay?y.push(l[x]):v.push(l[x]);if(u("allDaySlot")){P(e(y),q);ja()}h(d(v),q);aa("eventAfterAllRender")}function b(){ga();va().empty();qa().empty()}function e(l){l=vb(ub(l,n.map(l,bb),p.visStart,p.visEnd));var q,x=l.length,L,y,v,i=[];for(q=0;q<x;q++){L=l[q];for(y=0;y<L.length;y++){v=L[y];v.row=0;v.level=q;i.push(v)}}return i}function d(l){var q=s(),x=ia(),L=ba(),y=Ba(I(p.visStart),x),v=n.map(l,f),i,A,T,ca,ea,ka,ha=[];for(i=0;i<q;i++){A=vb(ub(l,v,y,Ba(I(y),L-x)));Cc(A);
for(T=0;T<A.length;T++){ca=A[T];for(ea=0;ea<ca.length;ea++){ka=ca[ea];ka.col=i;ka.level=T;ha.push(ka)}}X(y,1,true)}return ha}function f(l){return l.end?I(l.end):Ba(I(l.start),u("defaultEventMinutes"))}function h(l,q){var x,L=l.length,y,v,i,A,T,ca,ea,ka,ha,$="",sa,ua,la={},ya={},wa=qa(),Fa;x=s();if(sa=u("isRTL")){ua=-1;Fa=x-1}else{ua=1;Fa=0}for(x=0;x<L;x++){y=l[x];v=y.event;i=ra(y.start,y.start);A=ra(y.start,y.end);T=y.col;ca=y.level;ea=y.forward||0;ka=E(T*ua+Fa);ha=Q(T*ua+Fa)-ka;ha=Math.min(ha-6,
ha*0.95);T=ca?ha/(ca+ea+1):ea?(ha/(ea+1)-6)*2:ha;ca=ka+ha/(ca+ea+1)*ca*ua+(sa?ha-T:0);y.top=i;y.left=ca;y.outerWidth=T;y.outerHeight=A-i;$+=o(v,y)}wa[0].innerHTML=$;sa=wa.children();for(x=0;x<L;x++){y=l[x];v=y.event;$=n(sa[x]);ua=aa("eventRender",v,v,$,p);if(ua===false)$.remove();else{if(ua&&ua!==true){$.remove();$=n(ua).css({position:"absolute",top:y.top,left:y.left}).appendTo(wa)}y.element=$;if(v._id===q)r(v,$,y);else $[0]._fci=x;N(v,$)}}Lb(wa,l,r);for(x=0;x<L;x++){y=l[x];if($=y.element){v=la[q=
y.key=Qb($[0])];y.vsides=v===ma?(la[q]=$a($,true)):v;v=ya[q];y.hsides=v===ma?(ya[q]=wb($,true)):v;q=$.find(".fc-event-title");if(q.length)y.contentTop=q[0].offsetTop}}for(x=0;x<L;x++){y=l[x];if($=y.element){$[0].style.width=Math.max(0,y.outerWidth-y.hsides)+"px";la=Math.max(0,y.outerHeight-y.vsides);$[0].style.height=la+"px";v=y.event;if(y.contentTop!==ma&&la-y.contentTop<10){$.find("div.fc-event-time").text(V(v.start,u("timeFormat"))+" - "+v.title);$.find("div.fc-event-title").remove()}aa("eventAfterRender",
v,v,$)}}}function o(l,q){var x="<",L=l.url,y=Rb(l,u),v=["fc-event","fc-event-vert"];na(l)&&v.push("fc-event-draggable");q.isStart&&v.push("fc-event-start");q.isEnd&&v.push("fc-event-end");v=v.concat(l.className);if(l.source)v=v.concat(l.source.className||[]);x+=L?"a href='"+Ya(l.url)+"'":"div";x+=" class='"+v.join(" ")+"' style='position:absolute;z-index:8;top:"+q.top+"px;left:"+q.left+"px;"+y+"'><div class='fc-event-inner'><div class='fc-event-time'>"+Ya(Ca(l.start,l.end,u("timeFormat")))+"</div><div class='fc-event-title'>"+
Ya(l.title)+"</div></div><div class='fc-event-bg'></div>";if(q.isEnd&&fa(l))x+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";x+="</"+(L?"a":"div")+">";return x}function m(l,q,x){na(l)&&w(l,q,x.isStart);x.isEnd&&fa(l)&&c(l,q,x);Y(l,q)}function r(l,q,x){var L=q.find("div.fc-event-time");na(l)&&O(l,q,L);x.isEnd&&fa(l)&&M(l,q,L);Y(l,q)}function w(l,q,x){function L(){if(!i){q.width(y).height("").draggable("option","grid",null);i=true}}var y,v,i=true,A,T=u("isRTL")?-1:1,ca=R(),ea=F(),ka=H(),
ha=S(),$=ia();q.draggable({zIndex:9,opacity:u("dragOpacity","month"),revertDuration:u("dragRevertDuration"),start:function(sa,ua){aa("eventDragStart",q,l,sa,ua);z(l,q);y=q.width();ca.start(function(la,ya,wa,Fa){k();if(la){v=false;A=Fa*T;if(la.row)if(x){if(i){q.width(ea-10);Mb(q,ka*Math.round((l.end?(l.end-l.start)/Dc:u("defaultEventMinutes"))/ha));q.draggable("option","grid",[ea,1]);i=false}}else v=true;else{C(X(I(l.start),A),X(bb(l),A));L()}v=v||i&&!A}else{L();v=true}q.draggable("option","revert",
v)},sa,"drag")},stop:function(sa,ua){ca.stop();k();aa("eventDragStop",q,l,sa,ua);if(v){L();q.css("filter","");j(l,q)}else{var la=0;i||(la=Math.round((q.offset().top-za().offset().top)/ka)*ha+$-(l.start.getHours()*60+l.start.getMinutes()));J(this,l,A,la,i,sa,ua)}}})}function O(l,q,x){function L(la){var ya=Ba(I(l.start),la),wa;if(l.end)wa=Ba(I(l.end),la);x.text(Ca(ya,wa,u("timeFormat")))}function y(){if(i){x.css("display","");q.draggable("option","grid",[$,sa]);i=false}}var v,i=false,A,T,ca,ea=u("isRTL")?
-1:1,ka=R(),ha=s(),$=F(),sa=H(),ua=S();q.draggable({zIndex:9,scroll:false,grid:[$,sa],axis:ha==1?"y":false,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(la,ya){aa("eventDragStart",q,l,la,ya);z(l,q);v=q.position();T=ca=0;ka.start(function(wa,Fa,G,Z){q.draggable("option","revert",!wa);k();if(wa){A=Z*ea;if(u("allDaySlot")&&!wa.row){if(!i){i=true;x.hide();q.draggable("option","grid",null)}C(X(I(l.start),A),X(bb(l),A))}else y()}},la,"drag")},drag:function(la,ya){T=Math.round((ya.position.top-
v.top)/sa)*ua;if(T!=ca){i||L(T);ca=T}},stop:function(la,ya){var wa=ka.stop();k();aa("eventDragStop",q,l,la,ya);if(wa&&(A||T||i))J(this,l,A,i?0:T,i,la,ya);else{y();q.css("filter","");q.css(v);L(0);j(l,q)}}})}function M(l,q,x){var L,y,v=H(),i=S();q.resizable({handles:{s:".ui-resizable-handle"},grid:v,start:function(A,T){L=y=0;z(l,q);q.css("z-index",9);aa("eventResizeStart",this,l,A,T)},resize:function(A,T){L=Math.round((Math.max(v,q.height())-T.originalSize.height)/v);if(L!=y){x.text(Ca(l.start,!L&&
!l.end?null:Ba(oa(l),i*L),u("timeFormat")));y=L}},stop:function(A,T){aa("eventResizeStop",this,l,A,T);if(L)D(this,l,0,i*L,A,T);else{q.css("z-index",8);j(l,q)}}})}var p=this;p.renderEvents=a;p.compileDaySegs=e;p.clearEvents=b;p.slotSegHtml=o;p.bindDaySeg=m;Yb.call(p);var u=p.opt,aa=p.trigger,na=p.isEventDraggable,fa=p.isEventResizable,oa=p.eventEnd,pa=p.reportEvents,ga=p.reportEventClear,Y=p.eventElementHandlers,ja=p.setHeight,va=p.getDaySegmentContainer,qa=p.getSlotSegmentContainer,R=p.getHoverListener,
ba=p.getMaxMinute,ia=p.getMinMinute,ra=p.timePosition,E=p.colContentLeft,Q=p.colContentRight,P=p.renderDaySegs,c=p.resizableDayEvent,s=p.getColCnt,F=p.getColWidth,H=p.getSnapHeight,S=p.getSnapMinutes,za=p.getBodyContent,N=p.reportEventElement,j=p.showEvents,z=p.hideEvents,J=p.eventDrop,D=p.eventResize,C=p.renderDayOverlay,k=p.clearOverlays,U=p.calendar,V=U.formatDate,Ca=U.formatDates}function Cc(a){var b,e,d,f,h,o;for(b=a.length-1;b>0;b--){f=a[b];for(e=0;e<f.length;e++){h=f[e];for(d=0;d<a[b-1].length;d++){o=
a[b-1][d];if(Kb(h,o))o.forward=Math.max(o.forward||0,(h.forward||0)+1)}}}}function Sb(a,b,e){function d(E,Q){E=ra[E];if(typeof E=="object")return pb(E,Q||e);return E}function f(E,Q){return b.trigger.apply(b,[E,Q||Y].concat(Array.prototype.slice.call(arguments,2),[Y]))}function h(E){return m(E)&&!d("disableDragging")}function o(E){return m(E)&&!d("disableResizing")}function m(E){return ab(E.editable,(E.source||{}).editable,d("editable"))}function r(E){R={};var Q,P=E.length,c;for(Q=0;Q<P;Q++){c=E[Q];
if(R[c._id])R[c._id].push(c);else R[c._id]=[c]}}function w(E){return E.end?I(E.end):ja(E)}function O(E,Q){ba.push(Q);if(ia[E._id])ia[E._id].push(Q);else ia[E._id]=[Q]}function M(){ba=[];ia={}}function p(E,Q){Q.click(function(P){if(!Q.hasClass("ui-draggable-dragging")&&!Q.hasClass("ui-resizable-resizing"))return f("eventClick",this,E,P)}).hover(function(P){f("eventMouseover",this,E,P)},function(P){f("eventMouseout",this,E,P)})}function u(E,Q){na(E,Q,"show")}function aa(E,Q){na(E,Q,"hide")}function na(E,
Q,P){E=ia[E._id];var c,s=E.length;for(c=0;c<s;c++)if(!Q||E[c][0]!=Q[0])E[c][P]()}function fa(E,Q,P,c,s,F,H){var S=Q.allDay,za=Q._id;pa(R[za],P,c,s);f("eventDrop",E,Q,P,c,s,function(){pa(R[za],-P,-c,S);qa(za)},F,H);qa(za)}function oa(E,Q,P,c,s,F){var H=Q._id;ga(R[H],P,c);f("eventResize",E,Q,P,c,function(){ga(R[H],-P,-c);qa(H)},s,F);qa(H)}function pa(E,Q,P,c){P=P||0;for(var s,F=E.length,H=0;H<F;H++){s=E[H];if(c!==ma)s.allDay=c;Ba(X(s.start,Q,true),P);if(s.end)s.end=Ba(X(s.end,Q,true),P);va(s,ra)}}function ga(E,
Q,P){P=P||0;for(var c,s=E.length,F=0;F<s;F++){c=E[F];c.end=Ba(X(w(c),Q,true),P);va(c,ra)}}var Y=this;Y.element=a;Y.calendar=b;Y.name=e;Y.opt=d;Y.trigger=f;Y.isEventDraggable=h;Y.isEventResizable=o;Y.reportEvents=r;Y.eventEnd=w;Y.reportEventElement=O;Y.reportEventClear=M;Y.eventElementHandlers=p;Y.showEvents=u;Y.hideEvents=aa;Y.eventDrop=fa;Y.eventResize=oa;var ja=Y.defaultEventEnd,va=b.normalizeEvent,qa=b.reportEventChange,R={},ba=[],ia={},ra=b.options}function Yb(){function a(j,z){var J=s(),D=qa(),
C=R(),k=0,U,V,Ca=j.length,l,q;J[0].innerHTML=e(j);d(j,J.children());f(j);h(j,J,z);o(j);m(j);r(j);z=w();for(J=0;J<D;J++){U=[];for(V=0;V<C;V++)U[V]=0;for(;k<Ca&&(l=j[k]).row==J;){V=Pb(U.slice(l.startCol,l.endCol));l.top=V;V+=l.outerHeight;for(q=l.startCol;q<l.endCol;q++)U[q]=V;k++}z[J].height(Pb(U))}M(j,O(z))}function b(j,z,J){var D=n("<div/>"),C=s(),k=j.length,U;D[0].innerHTML=e(j);D=D.children();C.append(D);d(j,D);o(j);m(j);r(j);M(j,O(w()));D=[];for(C=0;C<k;C++)if(U=j[C].element){j[C].row===z&&U.css("top",
J);D.push(U[0])}return n(D)}function e(j){var z=aa("isRTL"),J,D=j.length,C,k,U,V;J=ia();var Ca=J.left,l=J.right,q,x,L,y,v,i="";for(J=0;J<D;J++){C=j[J];k=C.event;V=["fc-event","fc-event-hori"];fa(k)&&V.push("fc-event-draggable");C.isStart&&V.push("fc-event-start");C.isEnd&&V.push("fc-event-end");if(z){q=Q(C.end.getDay()-1);x=Q(C.start.getDay());L=C.isEnd?ra(q):Ca;y=C.isStart?E(x):l}else{q=Q(C.start.getDay());x=Q(C.end.getDay()-1);L=C.isStart?ra(q):Ca;y=C.isEnd?E(x):l}V=V.concat(k.className);if(k.source)V=
V.concat(k.source.className||[]);U=k.url;v=Rb(k,aa);i+=U?"<a href='"+Ya(U)+"'":"<div";i+=" class='"+V.join(" ")+"' style='position:absolute;z-index:8;left:"+L+"px;"+v+"'><div class='fc-event-inner'>";if(!k.allDay&&C.isStart)i+="<span class='fc-event-time'>"+Ya(H(k.start,k.end,aa("timeFormat")))+"</span>";i+="<span class='fc-event-title'>"+Ya(k.title)+"</span></div>";if(C.isEnd&&oa(k))i+="<div class='ui-resizable-handle ui-resizable-"+(z?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";i+="</"+(U?"a":"div")+
">";C.left=L;C.outerWidth=y-L;C.startCol=q;C.endCol=x+1}return i}function d(j,z){var J,D=j.length,C,k,U;for(J=0;J<D;J++){C=j[J];k=C.event;U=n(z[J]);k=na("eventRender",k,k,U,u);if(k===false)U.remove();else{if(k&&k!==true){k=n(k).css({position:"absolute",left:C.left});U.replaceWith(k);U=k}C.element=U}}}function f(j){var z,J=j.length,D,C;for(z=0;z<J;z++){D=j[z];(C=D.element)&&ga(D.event,C)}}function h(j,z,J){var D,C=j.length,k,U,V;for(D=0;D<C;D++){k=j[D];if(U=k.element){V=k.event;if(V._id===J)F(V,U,
k);else U[0]._fci=D}}Lb(z,j,F)}function o(j){var z,J=j.length,D,C,k,U,V={};for(z=0;z<J;z++){D=j[z];if(C=D.element){k=D.key=Qb(C[0]);U=V[k];if(U===ma)U=V[k]=wb(C,true);D.hsides=U}}}function m(j){var z,J=j.length,D,C;for(z=0;z<J;z++){D=j[z];if(C=D.element)C[0].style.width=Math.max(0,D.outerWidth-D.hsides)+"px"}}function r(j){var z,J=j.length,D,C,k,U,V={};for(z=0;z<J;z++){D=j[z];if(C=D.element){k=D.key;U=V[k];if(U===ma)U=V[k]=Nb(C);D.outerHeight=C[0].offsetHeight+U}}}function w(){var j,z=qa(),J=[];for(j=
0;j<z;j++)J[j]=ba(j).find("div.fc-day-content > div");return J}function O(j){var z,J=j.length,D=[];for(z=0;z<J;z++)D[z]=j[z][0].offsetTop;return D}function M(j,z){var J,D=j.length,C,k;for(J=0;J<D;J++){C=j[J];if(k=C.element){k[0].style.top=z[C.row]+(C.top||0)+"px";C=C.event;na("eventAfterRender",C,C,k)}}}function p(j,z,J){var D=aa("isRTL"),C=D?"w":"e",k=z.find(".ui-resizable-"+C),U=false;fb(z);z.mousedown(function(V){V.preventDefault()}).click(function(V){if(U){V.preventDefault();V.stopImmediatePropagation()}});
k.mousedown(function(V){function Ca(ea){na("eventResizeStop",this,j,ea);n("body").css("cursor","");l.stop();za();i&&va(this,j,i,0,ea);setTimeout(function(){U=false},0)}if(V.which==1){U=true;var l=u.getHoverListener(),q=qa(),x=R(),L=D?-1:1,y=D?x-1:0,v=z.css("top"),i,A,T=n.extend({},j),ca=P(j.start);N();n("body").css("cursor",C+"-resize").one("mouseup",Ca);na("eventResizeStart",this,j,V);l.start(function(ea,ka){if(ea){var ha=Math.max(ca.row,ea.row);ea=ea.col;if(q==1)ha=0;if(ha==ca.row)ea=D?Math.min(ca.col,
ea):Math.max(ca.col,ea);i=ha*7+ea*L+y-(ka.row*7+ka.col*L+y);ka=X(pa(j),i,true);if(i){T.end=ka;ha=A;A=b(c([T]),J.row,v);A.find("*").css("cursor",C+"-resize");ha&&ha.remove();ja(j)}else if(A){Y(j);A.remove();A=null}za();S(j.start,X(I(ka),1))}},V)}})}var u=this;u.renderDaySegs=a;u.resizableDayEvent=p;var aa=u.opt,na=u.trigger,fa=u.isEventDraggable,oa=u.isEventResizable,pa=u.eventEnd,ga=u.reportEventElement,Y=u.showEvents,ja=u.hideEvents,va=u.eventResize,qa=u.getRowCnt,R=u.getColCnt,ba=u.allDayRow,ia=
u.allDayBounds,ra=u.colContentLeft,E=u.colContentRight,Q=u.dayOfWeekCol,P=u.dateCell,c=u.compileDaySegs,s=u.getDaySegmentContainer,F=u.bindDaySeg,H=u.calendar.formatDates,S=u.renderDayOverlay,za=u.clearOverlays,N=u.clearSelection}function Ub(){function a(M,p,u){b();p||(p=m(M,u));r(M,p,u);e(M,p,u)}function b(M){if(O){O=false;w();o("unselect",null,M)}}function e(M,p,u,aa){O=true;o("select",null,M,p,u,aa)}function d(M){var p=f.cellDate,u=f.cellIsAllDay,aa=f.getHoverListener(),na=f.reportDayClick;if(M.which==
1&&h("selectable")){b(M);var fa;aa.start(function(oa,pa){w();if(oa&&u(oa)){fa=[p(pa),p(oa)].sort(Ob);r(fa[0],fa[1],true)}else fa=null},M);n(document).one("mouseup",function(oa){aa.stop();if(fa){+fa[0]==+fa[1]&&na(fa[0],true,oa);e(fa[0],fa[1],true,oa)}})}}var f=this;f.select=a;f.unselect=b;f.reportSelection=e;f.daySelectionMousedown=d;var h=f.opt,o=f.trigger,m=f.defaultSelectionEnd,r=f.renderSelection,w=f.clearSelection,O=false;h("selectable")&&h("unselectAuto")&&n(document).mousedown(function(M){var p=
h("unselectCancel");if(p)if(n(M.target).parents(p).length)return;b(M)})}function Tb(){function a(h,o){var m=f.shift();m||(m=n("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));m[0].parentNode!=o[0]&&m.appendTo(o);d.push(m.css(h).show());return m}function b(){for(var h;h=d.shift();)f.push(h.hide().unbind())}var e=this;e.renderOverlay=a;e.clearOverlays=b;var d=[],f=[]}function Vb(a){var b=this,e,d;b.build=function(){e=[];d=[];a(e,d)};b.cell=function(f,h){var o=e.length,m=d.length,
r,w=-1,O=-1;for(r=0;r<o;r++)if(h>=e[r][0]&&h<e[r][1]){w=r;break}for(r=0;r<m;r++)if(f>=d[r][0]&&f<d[r][1]){O=r;break}return w>=0&&O>=0?{row:w,col:O}:null};b.rect=function(f,h,o,m,r){r=r.offset();return{top:e[f][0]-r.top,left:d[h][0]-r.left,width:d[m][1]-d[h][0],height:e[o][1]-e[f][0]}}}function Wb(a){function b(m){Ec(m);m=a.cell(m.pageX,m.pageY);if(!m!=!o||m&&(m.row!=o.row||m.col!=o.col)){if(m){h||(h=m);f(m,h,m.row-h.row,m.col-h.col)}else f(m,h);o=m}}var e=this,d,f,h,o;e.start=function(m,r,w){f=m;
h=o=null;a.build();b(r);d=w||"mousemove";n(document).bind(d,b)};e.stop=function(){n(document).unbind(d,b);return o}}function Ec(a){if(a.pageX===ma){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Xb(a){function b(o){return d[o]=d[o]||a(o)}var e=this,d={},f={},h={};e.left=function(o){return f[o]=f[o]===ma?b(o).position().left:f[o]};e.right=function(o){return h[o]=h[o]===ma?e.left(o)+b(o).width():h[o]};e.clear=function(){d={};f={};h={}}}var eb={defaultView:"month",aspectRatio:1.35,
header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July",
"August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",
today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},Fc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},
Ia=n.fullCalendar={version:"1.6.1"},Ra=Ia.views={};n.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),e;this.each(function(){var f=n.data(this,"fullCalendar");if(f&&n.isFunction(f[a])){f=f[a].apply(f,b);if(e===ma)e=f;a=="destroy"&&n.removeData(this,"fullCalendar")}});if(e!==ma)return e;return this}var d=a.eventSources||[];delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=n.extend(true,{},eb,a.isRTL||a.isRTL===ma&&eb.isRTL?Fc:{},a);
this.each(function(f,h){f=n(h);h=new ec(f,a,d);f.data("fullCalendar",h);h.render()});return this};Ia.sourceNormalizers=[];Ia.sourceFetchers=[];var hc={dataType:"json",cache:false},ic=1;Ia.addDays=X;Ia.cloneDate=I;Ia.parseDate=qb;Ia.parseISO8601=sb;Ia.parseTime=tb;Ia.formatDate=Wa;Ia.formatDates=ob;var xb=["sun","mon","tue","wed","thu","fri","sat"],Ib=864E5,jc=36E5,Dc=6E4,Jb={s:function(a){return a.getSeconds()},ss:function(a){return Xa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Xa(a.getMinutes())},
h:function(a){return a.getHours()%12||12},hh:function(a){return Xa(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Xa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Xa(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Xa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},
yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Wa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"},w:function(a,b){return b.weekNumberCalculation(a)},W:function(a){return kc(a)}};
Ia.dateFormatters=Jb;Ia.applyAll=gb;Ra.month=tc;Ra.basicWeek=uc;Ra.basicDay=vc;Eb({weekMode:"fixed"});Ra.agendaWeek=xc;Ra.agendaDay=yc;Eb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);
